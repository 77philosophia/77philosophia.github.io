<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"77philosophia.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Garfield&#39;s blog">
<meta property="og:url" content="http://77philosophia.github.io/page/6/index.html">
<meta property="og:site_name" content="Garfield&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="philosophia">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://77philosophia.github.io/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Garfield's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Garfield's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/05/improve-rag/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/05/improve-rag/" class="post-title-link" itemprop="url">æé«˜ragçš„æŠ€å·§</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-01-05 23:48:54 / Modified: 23:51:07" itemprop="dateCreated datePublished" datetime="2025-01-05T23:48:54+08:00">2025-01-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>https://readmedium.com/these-are-the-3-langchain-functions-i-used-to-improve-my-rag-00413ccb7094</p>
<ol type="1">
<li>Multi Query Retriever</li>
<li>Long Context Recorder</li>
<li>Contextual Compression</li>
</ol>
<figure>
<img src="/2025/01/05/improve-rag/image-20250105235015001.png"
alt="image-20250105235015001" />
<figcaption aria-hidden="true">image-20250105235015001</figcaption>
</figure>
<h3 id="long-context-reorder">Long-Context Reorder</h3>
<p>https://python.langchain.com/v0.1/docs/modules/data_connection/retrievers/long_context_reorder/</p>
<p>æ— è®ºä½ çš„æ¨¡å‹æ¶æ„å¦‚ä½•ï¼Œå½“åŒ…å«è¶…è¿‡ <strong>10</strong>
ä¸ªæ£€ç´¢åˆ°çš„æ–‡æ¡£æ—¶ï¼Œæ€§èƒ½éƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚ç®€è€Œè¨€ä¹‹ï¼šå½“æ¨¡å‹å¿…é¡»åœ¨é•¿ä¸Šä¸‹æ–‡ä¸­è®¿é—®ç›¸å…³ä¿¡æ¯æ—¶ï¼Œå®ƒä»¬å¾€å¾€ä¼šå¿½ç•¥æä¾›çš„æ–‡æ¡£ã€‚</p>
<p>ç­–ç•¥ï¼š</p>
<p>å°†ä¸å¤ªç›¸å…³çš„æ–‡æ¡£æ”¾åœ¨åˆ—è¡¨çš„ä¸­é—´ï¼Œè€Œæ›´ç›¸å…³çš„æ–‡æ¡£æ”¾åœ¨å¼€å¤´å’Œç»“å°¾ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/05/prompt-engineering/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/05/prompt-engineering/" class="post-title-link" itemprop="url">Prompt Design and Engineering</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-01-05 23:12:42 / Modified: 23:47:01" itemprop="dateCreated datePublished" datetime="2025-01-05T23:12:42+08:00">2025-01-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>[!TIP]</p>
<p>Prompt engineering:æŒ‡ä»¤+questions+input+example</p>
</blockquote>
<h3 id="llmsçš„limitations">LLMsçš„limitations</h3>
<ul>
<li>çŸ­æš‚è®°å¿†</li>
<li>è¾“å‡ºä¸ä¸€è‡´æ€§</li>
<li>è¿‡æœŸä¿¡æ¯</li>
<li>å†…å®¹æé€ </li>
<li>é¢†åŸŸä¸“ä¸šæ€§</li>
</ul>
<h3 id="ä¸€äº›å»ºè®®å’ŒæŠ€å·§">ä¸€äº›å»ºè®®å’ŒæŠ€å·§</h3>
<ul>
<li>CoT prompting</li>
<li>è®©æ¨¡å‹é€šè¿‡å…¶ä»–æ–¹å¼è¾“å‡ºçœŸå®çš„ä¸œè¥¿</li>
<li>ç›´æ¥ç»“æŸprompt</li>
<li>å¼ºåŠ¿çš„æ€åº¦</li>
<li>è®©aiè‡ªæˆ‘çº æ­£</li>
<li>äº§ç”Ÿä¸åŒçš„è§‚ç‚¹</li>
<li>ä¿æŒçŠ¶æ€+è§’è‰²æ‰®æ¼”ï¼ˆgptçš„webç«¯ç»´æŠ¤äº†ä¸€ä¸ªsessionï¼Œapiæ²¡æœ‰å®ç°ï¼‰</li>
<li>æ•™ç®—æ³•</li>
<li><strong>LLMsçš„æœ¬è´¨æ˜¯å¾€å‰è¯»å¹¶è¡¥å…¨æ–‡æœ¬ï¼Œå› æ­¤examplesçš„é¡ºåºå’Œpromptçš„é¡ºåºå¾ˆé‡è¦ã€‚</strong></li>
<li>Affordances:è¾¾åˆ°ä¸€å®šæ¡ä»¶è§¦å‘çš„å‡½æ•°</li>
</ul>
<h3 id="é«˜çº§å»ºè®®å’ŒæŠ€å·§">é«˜çº§å»ºè®®å’ŒæŠ€å·§</h3>
<ul>
<li>CoT
<ul>
<li>Zero-shot: lets think step by step...</li>
<li>Manual-Cot:</li>
</ul></li>
<li>ToT(Tree of thought)</li>
</ul>
<h3 id="å·¥å…·">å·¥å…·ï¼š</h3>
<ul>
<li>ART</li>
<li>é€šè¿‡è‡ªä¸€è‡´æ€§å¢å¼ºä¾èµ–æ€§</li>
<li>åæ€</li>
<li>ä¸“å®¶promptï¼šprompt chainer</li>
<li>Streamlining Complex Tasks with Chains</li>
<li>å¼•å¯¼æ€§çš„è¾“å‡ºwith rails</li>
<li>æµæ°´çº¿çš„Promptè®¾è®¡withè‡ªåŠ¨çš„prompt engineering</li>
</ul>
<h3 id="argmenting-llms-through-external-knowledge--rag">Argmenting LLMs
through External Knowledge -RAG</h3>
<ul>
<li>RAG-aware Prompting Techniques</li>
</ul>
<h3 id="llm-agents">LLM Agents</h3>
<h4 id="agents">Agents</h4>
<ul>
<li>Reasoning without Observation</li>
<li>Reason And Act</li>
<li>Dialog-Enabled Resolving Agents</li>
</ul>
<h3 id="å·¥å…·å’Œæ¡†æ¶">å·¥å…·å’Œæ¡†æ¶</h3>
<ul>
<li>Langchain</li>
<li>Semantic Kernel</li>
<li>The Guidance</li>
<li>Nemo Guardrails</li>
<li>LlamaIndex</li>
<li>FastRAG</li>
<li>Auto-GPT</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/05/Blip-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/05/Blip-2/" class="post-title-link" itemprop="url">Blip-2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-01-05 16:31:01 / Modified: 16:38:22" itemprop="dateCreated datePublished" datetime="2025-01-05T16:31:01+08:00">2025-01-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="èƒŒæ™¯">èƒŒæ™¯ï¼š</h3>
<p><strong>Vision-language
pre-training,</strong>å°†è§†è§‰å’Œè¯­è¨€çš„åªæ˜¯ç»“åˆèµ·æ¥ã€‚ä½†æ˜¯æ¨¡å‹é€šå¸¸é«˜<strong>cost</strong>ï¼Œå› ä¸ºéœ€è¦ç«¯åˆ°ç«¯è®­ç»ƒ<strong>vison</strong>å’Œ<strong>language</strong>æ¨¡å‹<strong>(</strong>é€šå¸¸ç”¨<strong>transformers)</strong>ã€‚å› æ­¤éœ€è¦ä¸€ç§æ›´ä¸å¤æ‚çš„<strong>vision-language</strong>æ¨¡å‹ï¼Œä¸éœ€è¦ç«¯åˆ°ç«¯çš„è®­ç»ƒï¼Œäºæ˜¯<strong>BLIP-2</strong>å°±äº§ç”Ÿäº†ã€‚</p>
<h3
id="blip-2-bootstrapping-language-image-pre-training-with-frozen-image-encoders-and-large-language-models"><strong>BLIP-2:
Bootstrapping Language-Image Pre-training with Frozen Image Encoders and
Large Language Models</strong></h3>
<p>ä½œè€…é‡‡ç”¨äº†ä¸€ä¸ªè½»é‡çº§çš„<strong>querying
transfomer</strong>ç»“æ„ä½œä¸º<strong>frozen image</strong>å’Œ<strong>text
encoders</strong>çš„<strong>bottleneck.</strong>é¦–å…ˆç”¨<strong>image
encoder</strong>æå–å›¾åƒç‰¹å¾ï¼Œç„¶åé€ç»™è¯­è¨€æ¨¡å‹å»ç†è§£ã€‚ä½†æ˜¯è¯­è¨€æ¨¡å‹æ²¡æœ‰åœ¨<strong>image</strong>ä¸Šé¢è®­ç»ƒè¿‡ï¼Œå› æ­¤å®ƒæ— æ³•ç›´æ¥ç†è§£è¿™äº›è§†è§‰è¡¨ç¤ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<strong>Q-Former</strong>é‡‡ç”¨ä¸€äº›å¯å­¦ä¹ çš„<strong>querying
vectors</strong>ï¼Œåœ¨ä¸¤ä¸ªé˜¶æ®µè¿›è¡Œé¢„è®­ç»ƒï¼›</p>
<p>ï¼ˆ1ï¼‰vision-language representation learning with a frozen image
encoder</p>
<ol start="2" type="1">
<li>vision-to-language generative learning stage with a frozen text
encoder</li>
</ol>
<figure>
<img src="/2025/01/05/Blip-2/image-20250105163736925.png"
alt="image-20250105163736925" />
<figcaption aria-hidden="true">image-20250105163736925</figcaption>
</figure>
<p>Q-FormeråŒ…æ‹¬ä¸¤ä¸ªå­æ¨¡å—ï¼š</p>
<p>a.ä¸€ä¸ªimage transformerå’Œfrozen image encoderäº¤äº’ã€‚</p>
<p>b.ä¸€ä¸ª</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/05/webui-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/05/webui-api/" class="post-title-link" itemprop="url">webuiç”¨apiè·‘å›¾</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-01-05 16:28:26 / Modified: 16:30:25" itemprop="dateCreated datePublished" datetime="2025-01-05T16:28:26+08:00">2025-01-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="å®˜æ–¹æ•™ç¨‹">å®˜æ–¹æ•™ç¨‹ï¼š</h3>
<p>https://github.com/AUTOMATIC1111/stable-diffusion-webui/wiki/API</p>
<h3 id="æ­¥éª¤">æ­¥éª¤ï¼š</h3>
<ol type="1">
<li><p>åœ¨å¯åŠ¨ç•Œé¢ï¼Œéœ€è¦æŒ‡å®šapiå¯åŠ¨ã€‚å¦‚python launch.py --api</p></li>
<li><p>æ‰“å¼€http://localhost:7860/docså¯ä»¥çœ‹åˆ°æ¥å£æ–‡æ¡£ã€‚</p>
<figure>
<img src="/2025/01/05/webui-api/image-20250105163022602.png"
alt="image-20250105163022602" />
<figcaption aria-hidden="true">image-20250105163022602</figcaption>
</figure></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/05/ai-scaler/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/05/ai-scaler/" class="post-title-link" itemprop="url">ai-scaler</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-01-05 16:23:35 / Modified: 16:27:30" itemprop="dateCreated datePublished" datetime="2025-01-05T16:23:35+08:00">2025-01-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ä¸ºä»€ä¹ˆéœ€è¦ai-upscaler">ä¸ºä»€ä¹ˆéœ€è¦ai upscaler</h2>
<p>ä¸ºäº†å±•ç°å›¾ç‰‡åœ¨å±å¹•ä¸Šï¼Œå›¾ç‰‡ä¸€èˆ¬éœ€è¦è¢«æ”¾å¤§ï¼Œä»è€Œçœ‹èµ·æ¥è´¨é‡å°±ä¼šå¾ˆä½ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆä¸ç”¨ä¼ ç»Ÿçš„upscaler">ä¸ºä»€ä¹ˆä¸ç”¨ä¼ ç»Ÿçš„upscaler</h2>
<p>ä¼ ç»Ÿçš„resizeçš„ç®—æ³•ï¼Œæ¯”å¦‚æœ€è¿‘é‚»æ’å€¼æˆ–è€…Lanczosæ’å€¼ï¼Œåªç”¨åˆ°äº†å›¾åƒçš„åƒç´ ã€‚å›¾åƒå®¹æ˜“corruptedæˆ–è€…æ‰­æ›²ã€‚æ²¡æœ‰å¾ˆå¥½çš„ç®—æ³•èƒ½å‡†ç¡®å¼¥è¡¥è¿™äº›ç¼ºå¤±çš„ä¿¡æ¯ã€‚</p>
<h2 id="ai-upscaleræ€ä¹ˆå·¥ä½œ">AI upscaleræ€ä¹ˆå·¥ä½œ</h2>
<p>AI
upscaleræ˜¯ç¥ç»ç½‘ç»œè®­ç»ƒäº†å¤§é‡æ•°æ®å¾—åˆ°çš„ï¼Œåœ¨å›¾åƒæ”¾å¤§æ—¶å¯ä»¥å¡«å……ç»†èŠ‚ä¿¡æ¯ã€‚</p>
<figure>
<img src="/2025/01/05/ai-scaler/image-20250105162728273.png"
alt="image-20250105162728273" />
<figcaption aria-hidden="true">image-20250105162728273</figcaption>
</figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/04/langchain-robot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/04/langchain-robot/" class="post-title-link" itemprop="url">ç”¨lanchainåšai robot</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-01-04 23:34:19 / Modified: 23:56:18" itemprop="dateCreated datePublished" datetime="2025-01-04T23:34:19+08:00">2025-01-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="ä»€ä¹ˆæ˜¯langchin">ä»€ä¹ˆæ˜¯langchin</h3>
<figure>
<img src="/2025/01/04/langchain-robot/image-20250104233619635.png"
alt="image-20250104233619635" />
<figcaption aria-hidden="true">image-20250104233619635</figcaption>
</figure>
<p>langchainæ˜¯ä¸€ä¸ªæ”¯æŒå¤§è¯­è¨€æ¨¡å‹ç›¸å…³åº”ç”¨å¼€å‘çš„æ¡†æ¶ã€‚</p>
<p>ä½¿å¾—å»ºè®¾ä¸aiç›¸å…³çš„åº”ç”¨ä¼šæ›´å®¹æ˜“ã€‚</p>
<ul>
<li><p>é›†æˆï¼šå°†å¤–éƒ¨æ•°æ®ï¼Œæ¯”å¦‚æ–‡ä»¶ã€apiã€åº”ç”¨é›†æˆè¿›æ¥</p></li>
<li><p>ä»£ç†ï¼šå’Œç¯å¢ƒé›†æˆ</p></li>
</ul>
<p>ç»„ä»¶ - LangChain
ä½¿å¾—æ›´æ¢å¿…è¦çš„æŠ½è±¡å’Œç»„ä»¶ä»¥ä½¿ç”¨è¯­è¨€æ¨¡å‹å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚</p>
<p>è‡ªå®šä¹‰é“¾ - LangChain
æä¾›ç°æˆçš„æ”¯æŒæ¥ä½¿ç”¨å’Œè‡ªå®šä¹‰â€œé“¾â€â€”â€”ä¸€ç³»åˆ—ä¸²è”åœ¨ä¸€èµ·çš„æ“ä½œã€‚</p>
<p>é€Ÿåº¦ ğŸš¢ - è¿™ä¸ªå›¢é˜Ÿçš„äº¤ä»˜é€Ÿåº¦éå¸¸å¿«ã€‚æ‚¨å°†ä¼šè·Ÿä¸Šæœ€æ–°çš„ LLM åŠŸèƒ½ã€‚</p>
<p>ç¤¾åŒº ğŸ‘¥ - æå¥½çš„ Discord å’Œç¤¾åŒºæ”¯æŒï¼Œè§é¢ä¼šã€é»‘å®¢æ¾ç­‰æ´»åŠ¨ã€‚</p>
<h2 id="llms">LLMs</h2>
<ul>
<li>å…¬å¸å¼€å‘å’Œæ§åˆ¶çš„ä¸“æœ‰æ¨¡å‹ï¼šæˆæœ¬é«˜ã€è®¸å¯è¯é™åˆ¶ã€é—­æº</li>
<li>å¼€æºæ¨¡å‹ï¼šå¼€æºã€çµæ´»æ€§ã€å¯èƒ½ç¼ºä¹å¤§å…¬å¸çš„æ”¯æŒå’Œèµ„æº</li>
</ul>
<figure>
<img src="/2025/01/04/langchain-robot/image-20250104233744531.png"
alt="image-20250104233744531" />
<figcaption aria-hidden="true">image-20250104233744531</figcaption>
</figure>
<p>ç”¨api</p>
<p>AzureOpenAI:é€‚ç”¨äºä¸€èˆ¬çš„é•¿æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ï¼Œå¦‚å°è¯´å†™ä½œã€æ–‡ç« åˆ›ä½œç­‰ã€‚</p>
<p>AzureChatOpenAI:é€‚ç”¨äºæ¶‰åŠå¤§é‡å¯¹è¯çš„æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ï¼Œå°¤å…¶æ˜¯éœ€è¦ç®¡ç†å¯¹è¯ä¸Šä¸‹æ–‡æ—¶ã€‚</p>
<p>æ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ¨¡å‹ã€‚å¦‚æœä¸»è¦ä»»åŠ¡æ˜¯é•¿æ–‡æœ¬åˆ›ä½œä¸”å¯¹è¯ä¸æ˜¯ä¸»è¦éƒ¨åˆ†ï¼Œå»ºè®®ä½¿ç”¨
AzureOpenAIã€‚å¦‚æœæœ‰å¤§é‡å¯¹è¯ä¸”éœ€è¦æ›´å¥½åœ°ç®¡ç†å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œå»ºè®®ä½¿ç”¨
AzureChatOpenAIã€‚</p>
<p>AzureOpenAI ä¼šæŠ¥é”™</p>
<p>Error code: 400 - {'error': {'code': 'OperationNotSupported',
'message': 'The completion operation does not work with the specified
model, gpt-4o. Please choose different model and try again. You can
learn more about which models can be used with each operation here:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#This basic example demostrate the LLM response and ChatModel Response</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> langchain.llms <span class="keyword">import</span> AzureOpenAI</span><br><span class="line"><span class="keyword">from</span> langchain.chat_models <span class="keyword">import</span> AzureChatOpenAI</span><br><span class="line"><span class="keyword">import</span> openai</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> dotenv <span class="keyword">import</span> load_dotenv, find_dotenv</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the OpenAI library configuration using the retrieved environment variables</span></span><br><span class="line">OPENAI_API_TYPE = <span class="string">&quot;azure&quot;</span></span><br><span class="line">OPENAI_API_BASE = <span class="string">&quot;https://sparkopenai2024.openai.azure.com/&quot;</span></span><br><span class="line">OPENAI_API_VERSION = <span class="string">&quot;2024-02-15-preview&quot;</span></span><br><span class="line">OPENAI_API_KEY = <span class="string">&quot;xxx&quot;</span></span><br><span class="line">GPT4V_ENDPOINT = <span class="string">&quot;https://sparkopenai2024.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-15-preview&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Initialize an instance of AzureOpenAI using the specified settings</span></span><br><span class="line"><span class="comment"># llm = AzureOpenAI(</span></span><br><span class="line"><span class="comment">#     openai_api_version=OPENAI_API_VERSION,</span></span><br><span class="line"><span class="comment">#     openai_api_key=OPENAI_API_KEY,</span></span><br><span class="line"><span class="comment">#     openai_api_base=OPENAI_API_BASE,</span></span><br><span class="line"><span class="comment">#     openai_api_type=OPENAI_API_TYPE,</span></span><br><span class="line"><span class="comment">#     deployment_name=&quot;gpt-4o&quot;  # Name of the deployment for identification</span></span><br><span class="line"><span class="comment"># )</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Initialize an instance of AzureChatOpenAI using the specified settings</span></span><br><span class="line">chat_llm = AzureChatOpenAI(</span><br><span class="line">    openai_api_version=OPENAI_API_VERSION,</span><br><span class="line">    openai_api_key=OPENAI_API_KEY,</span><br><span class="line">    openai_api_base=OPENAI_API_BASE,</span><br><span class="line">    openai_api_type=OPENAI_API_TYPE,</span><br><span class="line">    deployment_name=<span class="string">&quot;gpt-4o&quot;</span>  </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print the response from AzureOpenAI LLM for a specific question</span></span><br><span class="line"><span class="comment"># print(&quot;AzureOpenAI LLM Response: &quot;, llm(&quot; what is the weather in mumbai today?&quot;))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Print the response from AzureChatOpenAI for the same question</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;AzureOpenAI ChatLLM Response: &quot;</span>, chat_llm.predict(<span class="string">&quot;what is the weather in mumbai today?&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœç›´æ¥ä¸å¤§æ¨¡å‹äº¤äº’-&gt;chatGPTã€‚è‡ªä»å‘ç°å¯ä»¥åˆ©</span><br><span class="line">ç”¨è‡ªæœ‰æ•°æ®æ¥å¢å¼ºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLL</span><br><span class="line">Mï¼‰çš„èƒ½åŠ›ä»¥æ¥ï¼Œå¦‚ä½•å°† LL</span><br><span class="line">M çš„é€šç”¨</span><br><span class="line">æœ‰æ•ˆç»“åˆä¸€ç›´æ˜¯çƒ­é—¨è¯é¢˜ã€‚</span><br><span class="line">çŸ¥è¯†ä¸ä¸ªäººæ•°æ®</span><br><span class="line">1. å¾®è°ƒ(finetue)</span><br><span class="line">2.</span><br><span class="line">RAG(æ£€ç´¢å¢å¼º)</span><br></pre></td></tr></table></figure>
<h3
id="å…ˆæ¥è€ƒè™‘ä¸€ä¸ªå…³äºå°è¯´å†…å®¹çš„chatrobot">å…ˆæ¥è€ƒè™‘ä¸€ä¸ªå…³äºå°è¯´å†…å®¹çš„chatRobot:</h3>
<figure>
<img src="/2025/01/04/langchain-robot/image-20250104234107482.png"
alt="image-20250104234107482" />
<figcaption aria-hidden="true">image-20250104234107482</figcaption>
</figure>
<p><strong>topic</strong>:</p>
<ul>
<li>æ–‡æ¡£åˆ†å‰²</li>
<li>æ–‡æ¡£ <strong>Load</strong>ï¼šæ•°æ®åŠ è½½ï¼Œ <strong>LangChain</strong>
æä¾›çš„ <strong>80</strong>
å¤šç§ç‹¬ç‰¹çš„åŠ è½½å™¨ï¼Œä»¥è®¿é—®åŒ…æ‹¬éŸ³é¢‘å’Œè§†é¢‘åœ¨å†…çš„å„ç§æ•°æ®æºã€‚</li>
<li>å‘é‡å­˜å‚¨å’ŒåµŒå…¥ï¼šæ·±å…¥äº†è§£åµŒå…¥çš„æ¦‚å¿µï¼Œæ¢ç´¢ <strong>LangChain</strong>
ä¸­çš„å‘é‡å­˜å‚¨é›†æˆã€‚</li>
<li>æ£€ç´¢ï¼šæŒæ¡åœ¨ <strong>Vector</strong>
å­˜å‚¨ä¸­è®¿é—®å’Œç´¢å¼•æ•°æ®çš„é«˜çº§æŠ€æœ¯ï¼Œä½¿æ‚¨èƒ½å¤Ÿæ£€ç´¢è¯­ä¹‰æŸ¥è¯¢ä¹‹å¤–çš„æœ€ç›¸å…³ä¿¡æ¯ã€‚</li>
<li>é—®é¢˜è§£ç­”ï¼šæ„å»ºä¸€æ¬¡æ€§é—®é¢˜è§£ç­”è§£å†³æ–¹æ¡ˆ<strong>/</strong>æ€»ç»“æ–¹æ¡ˆã€‚</li>
</ul>
<h4 id="long-text-summarisation">Long text summarisation</h4>
<h5 id="ä¸ºä»€ä¹ˆcontext-windowä¼šæ˜¯limit">ä¸ºä»€ä¹ˆcontext
windowä¼šæ˜¯limit</h5>
<p>å½“å‰å¤§å¤šæ•°çš„è¯­è¨€æ¨¡å‹æ˜¯åŸºäºè§£ç å™¨çš„æ¨¡å‹ã€‚è¿™äº›æ¨¡å‹ä½¿ç”¨äº†å˜æ¢å™¨æ¶æ„ä¸­çš„è§£ç å™¨éƒ¨åˆ†æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªæ ‡è®°çš„æ¦‚ç‡ã€‚ç„¶åï¼Œå°†è¿™ä¸ªé¢„æµ‹çš„æ ‡è®°é™„åŠ åˆ°è¾“å…¥æ–‡æœ¬ä¸­ï¼Œå½¢æˆé¢„æµ‹ä¸‹ä¸€ä¸ªæ ‡è®°çš„è¾“å…¥ã€‚</p>
<p><strong>Context Window Size = Input Sequence Length + Prompt Length +
O</strong></p>
<p><strong>utput Sequence Length</strong></p>
<figure>
<img src="/2025/01/04/langchain-robot/image-20250104234423043.png"
alt="image-20250104234423043" />
<figcaption aria-hidden="true">image-20250104234423043</figcaption>
</figure>
<p>ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœcontext windowçš„é™åˆ¶æ˜¯4097ï¼Œpromptçš„token
sizeæ˜¯50ï¼ŒæœŸå¾…è¾“å‡ºçš„æ€»ç»“å†…å®¹æ˜¯200ï¼Œé‚£ä¹ˆæœ€å¤§çš„è¾“å…¥æ–‡æœ¬çš„token
sizeå°±æ˜¯4097-50-200=3847tokensï¼Œå¤§æ¦‚å¯¹åº”3000ä¸ªè¯ã€‚</p>
<blockquote>
<p>[!IMPORTANT]</p>
<p>LLMså—é™äºå›ºå®šçš„ä¸Šä¸‹æ–‡çª—å£ï¼Œæ¯”å¦‚chatgptçš„limit
tokensæ˜¯4096ï¼Œå¤§æ¦‚å¯¹åº”3000å¤šä¸ªè¯ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šç¬¬ä¸€ç§ç”¨æ›´å¤§context
windowçš„LLMs;ç¬¬äºŒç§æ–¹æ³•æ˜¯åŒ–æ•´ä¸ºé›¶ï¼Œå°†é•¿æ–‡æœ¬åˆ†æˆå¾ˆå¤šä¸ªçŸ­æ–‡æœ¬ï¼Œåˆ†åˆ«é€è¿›æ¨¡å‹å¤„ç†ç„¶ååˆå¹¶ï¼Œæˆ–è€…é€‰æ‹©æœ€ç›¸å…³çš„éƒ¨åˆ†ç„¶åé€è¿›å»åˆ†æã€‚</p>
</blockquote>
<figure>
<img src="/2025/01/04/langchain-robot/image-20250104234750149.png"
alt="image-20250104234750149" />
<figcaption aria-hidden="true">image-20250104234750149</figcaption>
</figure>
<p>æ–‡æ¡£åˆ†å‰²ï¼š</p>
<p>CharacterTextSplitter:ç›´æ¥æŒ‰å­—ç¬¦æ•°é‡åˆ†å‰²æ–‡æœ¬ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">c_splitter = CharacterTextSplitter(</span><br><span class="line">    chunk_size=chunk_size,</span><br><span class="line">    chunk_overlap=chunk_overlap,</span><br><span class="line">    separator = &#x27; &#x27;    //ä¸»è¦åœ¨å“ªä¸€å—åˆ†å‰²</span><br><span class="line">)</span><br><span class="line">c_splitter.split_text(text3)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><p>RecursiveCharacterTextSplitter: æŒ‰ç…§é€’å½’è§„åˆ™åˆ†å‰²æ–‡æœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">r_splitter = RecursiveCharacterTextSplitter(</span><br><span class="line">    chunk_size=150,</span><br><span class="line">    chunk_overlap=0,</span><br><span class="line">    separators=[&quot;\n\n&quot;, &quot;\n&quot;, &quot;(?&lt;=\. )&quot;, &quot; &quot;, &quot;&quot;]</span><br><span class="line">)</span><br><span class="line">r_splitter.split_text(some_text)</span><br></pre></td></tr></table></figure></li>
<li><p>TokenTextSplitterï¼šè·ŸLLMsé‡Œçš„tokençš„æ¦‚å¿µå¯¹é½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text_splitter = TokenTextSplitter(chunk_size=10, chunk_overlap=0)</span><br></pre></td></tr></table></figure></li>
<li><p>Context aware splitting</p></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">from langchain.document_loaders import NotionDirectoryLoader</span><br><span class="line">from langchain.text_splitter import MarkdownHeaderTextSplitter</span><br><span class="line"></span><br><span class="line">markdown_document = &quot;&quot;&quot;# Title\n\n \</span><br><span class="line">## Chapter 1\n\n \</span><br><span class="line">Hi this is Jim\n\n Hi this is Joe\n\n \</span><br><span class="line">### Section \n\n \</span><br><span class="line">Hi this is Lance \n\n </span><br><span class="line">## Chapter 2\n\n \</span><br><span class="line">Hi this is Molly&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">headers_to_split_on = [</span><br><span class="line">    (&quot;#&quot;, &quot;Header 1&quot;),</span><br><span class="line">    (&quot;##&quot;, &quot;Header 2&quot;),</span><br><span class="line">    (&quot;###&quot;, &quot;Header 3&quot;),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">markdown_splitter = MarkdownHeaderTextSplitter(</span><br><span class="line">    headers_to_split_on=headers_to_split_on</span><br><span class="line">)</span><br><span class="line">md_header_splits = markdown_splitter.split_text(markdown_document)</span><br></pre></td></tr></table></figure>
<h3 id="ragæœç´¢å¢å¼º">RAGæœç´¢å¢å¼º</h3>
<figure>
<img src="/2025/01/04/langchain-robot/image-20250104235342635.png"
alt="image-20250104235342635" />
<figcaption aria-hidden="true">image-20250104235342635</figcaption>
</figure>
<blockquote>
<p>[!NOTE]</p>
<p><strong>query</strong>å’Œ<strong>prompt</strong>çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>åœ¨ä½¿ç”¨ <strong>RetrievalQA chain</strong> è¿›è¡Œé—®ç­”æ—¶ï¼Œ prompt å’Œ
query
æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«å¯¹äºæ„å»ºæœ‰æ•ˆçš„é—®ç­”ç³»ç»Ÿéå¸¸é‡è¦ã€‚</p>
<ol type="1">
<li><strong>Queryï¼ˆæŸ¥è¯¢ï¼‰</strong> ï¼š</li>
</ol>
<p>â—¦ query æ˜¯ç”¨æˆ·æå‡ºçš„é—®é¢˜æˆ–æŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼Œâ€œ<strong>What is the capital of
France?</strong>â€</p>
<p>â—¦ åœ¨ qa_chain_mr ä¸­ï¼Œ query
æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå®ƒæ˜¯æ•´ä¸ªé—®ç­”æµç¨‹çš„èµ·ç‚¹ã€‚ç³»ç»Ÿæ ¹æ® query
å»æ£€ç´¢ç›¸å…³çš„æ–‡æ¡£ï¼Œç„¶åä»ä¸­æŠ½å–ç­”</p>
<p>æ¡ˆã€‚</p>
<ol start="2" type="1">
<li><strong>Promptï¼ˆæç¤ºè¯ï¼‰</strong> ï¼š</li>
</ol>
<p>â—¦ prompt
æ˜¯ç”¨äºæŒ‡å¯¼è¯­è¨€æ¨¡å‹ç”Ÿæˆç­”æ¡ˆçš„é¢å¤–æ–‡æœ¬æˆ–ä¸Šä¸‹æ–‡ã€‚å®ƒå¯ä»¥åŒ…å«ç‰¹å®šçš„æŒ‡ç¤ºæˆ–æ ¼å¼åŒ–ä¿¡æ¯ï¼Œä»¥å¸®åŠ©æ¨¡å‹ç”Ÿæˆæ›´åˆé€‚çš„å“åº”ã€‚</p>
<p>æä¾›promptå¯ä»¥å¸®åŠ©æ¨¡å‹æ›´å¥½åœ°ç†è§£ä¸Šä¸‹æ–‡æˆ–æœŸæœ›çš„å›ç­”å½¢å¼ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ª
prompt æ¥æŒ‡ç¤ºæ¨¡å‹å›ç­”æ—¶çš„è¯­æ°”ã€è¯¦ç»†ç¨‹åº¦æˆ–è€…å…¶ä»–ç‰¹å®šè¦æ±‚ã€‚</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/04/aigc-paper-share/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/04/aigc-paper-share/" class="post-title-link" itemprop="url">AIGCè®ºæ–‡reading</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-01-04 22:26:20 / Modified: 22:43:16" itemprop="dateCreated datePublished" datetime="2025-01-04T22:26:20+08:00">2025-01-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="stable-diffusion-åŸç†">Stable diffusion åŸç†</h2>
<p>ä»dataäº§ç”Ÿnoiseå¾ˆå®¹æ˜“ï¼Œä»noiseäº§ç”Ÿdataæ˜¯ç”Ÿæˆ</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104222656242.png"
alt="image-20250104222656242" />
<figcaption aria-hidden="true">image-20250104222656242</figcaption>
</figure>
<h2 id="ä¸€è‡´æ€§ä¿æŒç›®æ ‡">ä¸€è‡´æ€§ä¿æŒç›®æ ‡ï¼š</h2>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104222713620.png"
alt="image-20250104222713620" />
<figcaption aria-hidden="true">image-20250104222713620</figcaption>
</figure>
<h1 id="è§£æ³•">è§£æ³•ï¼š</h1>
<h2 id="storydiffusionåšä¿æŒ">StoryDiffusionï¼šåšä¿æŒ</h2>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104222809450.png"
alt="image-20250104222809450" />
<figcaption aria-hidden="true">image-20250104222809450</figcaption>
</figure>
<p>äº§å‡ºè¿™äº›æ¼«ç”»çš„ç ”ç©¶å‡ºè‡ªå—å¼€å¤§å­¦ã€å­—èŠ‚è·³åŠ¨ç­‰æœºæ„ã€‚åœ¨ã€ŠStoryDiffusionï¼šConsistent
Self-Attention for long-range image and video
generationã€‹è¿™ç¯‡è®ºæ–‡ä¸­ï¼Œè¯¥ç ”ç©¶å›¢é˜Ÿæå‡ºäº†ä¸€ç§åä¸º StoryDiffusion
çš„æ–°æ–¹æ³•ï¼Œç”¨äºç”Ÿæˆä¸€è‡´çš„å›¾åƒå’Œè§†é¢‘ä»¥è®²è¿°å¤æ‚æ•…äº‹ã€‚</p>
<ul>
<li><p>è®ºæ–‡åœ°å€ï¼šhttps://arxiv.org/pdf/2405.01434v1</p></li>
<li><p>é¡¹ç›®ä¸»é¡µï¼šhttps://storydiffusion.github.io/</p></li>
</ul>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä½¿ç”¨Consistent
Self-Attentionç”Ÿæˆçš„å›¾åƒæˆåŠŸä¿æŒäº†èº«ä»½å’Œæœè£…çš„ä¸€è‡´æ€§ï¼Œè¿™å¯¹äºè®²æ•…äº‹è‡³å…³é‡è¦ã€‚</p>
<h4 id="ä¸»è¦äº®ç‚¹ä¸€è‡´æ€§å›¾åƒç”Ÿæˆ">ä¸»è¦äº®ç‚¹ï¼šä¸€è‡´æ€§å›¾åƒç”Ÿæˆ</h4>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104222859537.png"
alt="image-20250104222859537" />
<figcaption aria-hidden="true">image-20250104222859537</figcaption>
</figure>
<h4 id="æ€»ç»“">æ€»ç»“ï¼š</h4>
<p>åº”ç”¨åœºæ™¯ï¼šå°æ‰¹æ¬¡äººç‰©æœè£…ã€èº«ä»½çš„ä¿æŒ</p>
<h2
id="omgå¤šäººç‰©å›¾åƒç”Ÿæˆçš„å·¥å…·å«å›¾-åŒºåŸŸåˆ†ç¦»é‡ç»˜">OMGï¼šå¤šäººç‰©å›¾åƒç”Ÿæˆçš„å·¥å…·ï¼ˆå«å›¾
+ åŒºåŸŸåˆ†ç¦»é‡ç»˜ï¼‰</h2>
<p>ä¸»é¡µ: https://kongzhecn.github.io/omg-project/</p>
<p>ä»£ç : https://github.com/kongzhecn/OMG/</p>
<h4 id="èƒŒæ™¯">èƒŒæ™¯ï¼š</h4>
<p>å•æ¦‚å¿µçš„å®šåˆ¶åŒ–ç”Ÿæˆï¼ŒTextual Inversionï¼Œ
LORAï¼ŒInstanceIDç­‰æ–¹æ³•å·²ç»æ¯”è¾ƒæˆç†Ÿäº†ã€‚è€Œå¯¹äºå¤šæ¦‚å¿µçš„å®šåˆ¶åŒ–ç”Ÿæˆï¼Œå¦‚æœç›´æ¥ä½¿ç”¨LORAèåˆç­‰æ–¹æ³•ï¼Œä¸»è¦æŒ‘æˆ˜åœ¨äºä¸åŒçš„æ¦‚å¿µä¿¡æ¯ä¹‹é—´çš„ä¿¡æ¯æ³„æ¼ï¼Œé€ æˆå±æ€§æ··ä¹±ã€‚æ¯”å¦‚æƒ³è¦ç”Ÿæˆä¸€ä¸ªç‰¹å®šçš„é»‘è‰²é•¿å‘ç”·è§’è‰²ï¼Œä¸€ä¸ªç‰¹å®šçš„ç´«è‰²çŸ­å‘å¥³è§’è‰²ï¼Œåœ¨å•å›¾å‡ºå•è§’è‰²æ—¶æ­£å¸¸ï¼Œä½†æ˜¯åœ¨å•å›¾å‡ºåŒè§’è‰²æ—¶ï¼Œå¾ˆæœ‰å¯èƒ½å‘å‹å‘è‰²ä¿¡æ¯å°±æ··ä¹±äº†ï¼Œæ¯”å¦‚å¯èƒ½å‡ºç°ç´«è‰²é•¿å‘å¥³è§’è‰²ã€‚æ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„åšæ³•å°±æ˜¯å«å›¾+æ©ç ã€‚</p>
<p>éš¾ç‚¹ï¼šä¸ªæ€§åŒ–ä¿æŒã€ç©ºé—´é®æŒ¡</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104222920431.png"
alt="image-20250104222920431" />
<figcaption aria-hidden="true">image-20250104222920431</figcaption>
</figure>
<p>å¤šæ¦‚å¿µä¸ªæ€§åŒ–ï¼ˆmulti-concept
personalizationï¼‰æŒ‡çš„æ˜¯åœ¨åŒä¸€ä¸ªå›¾åƒç”Ÿæˆè¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶æ•´åˆå’Œè¡¨è¾¾å¤šä¸ªä¸åŒçš„æ¦‚å¿µæˆ–ä¸»é¢˜ã€‚è¿™ç§æ–¹æ³•è¦æ±‚åœ¨ç”Ÿæˆå›¾åƒæ—¶ï¼Œèƒ½å¤Ÿå‡†ç¡®ä¿ç•™å’Œè¡¨ç°æ¯ä¸ªæ¦‚å¿µçš„ç‹¬ç‰¹ç‰¹å¾ï¼ŒåŒæ—¶ä¿è¯å®ƒä»¬ä¹‹é—´çš„åè°ƒå’Œå’Œè°ã€‚ä¾‹å¦‚ï¼Œåœ¨ç”Ÿæˆä¸€ä¸ªåŒ…å«å¤šä¸ªä¸åŒäººç‰©ã€èƒŒæ™¯å’Œç‰©ä½“çš„å›¾åƒæ—¶ï¼Œå¿…é¡»ç¡®ä¿æ¯ä¸ªå…ƒç´ éƒ½èƒ½æ¸…æ™°åœ°å±•ç°å…¶ç‹¬ç‰¹æ€§ï¼Œå¹¶ä¸”æ•´ä½“å›¾åƒå…·æœ‰ä¸€è‡´æ€§å’Œç¾æ„Ÿã€‚</p>
<h4 id="å…ˆçœ‹æ•ˆæœ">å…ˆçœ‹æ•ˆæœï¼š</h4>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104222948149.png"
alt="image-20250104222948149" />
<figcaption aria-hidden="true">image-20250104222948149</figcaption>
</figure>
<h4 id="å³æ’å³ç”¨">å³æ’å³ç”¨</h4>
<table>
<colgroup>
<col style="width: 44%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr>
<th><strong>OMG +</strong> <strong>LoRA</strong> <strong>(ID with
multiple images)</strong></th>
<th><img src="/2025/01/04/aigc-paper-share/image-20250104223125232.png"
alt="image-20250104223125232" /></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>OMG + InstantID (ID with single image)</strong></td>
<td><img src="/2025/01/04/aigc-paper-share/image-20250104223145816.png"
alt="image-20250104223145816" /></td>
</tr>
<tr>
<td><strong>OMG + ControlNet (Layout Control )</strong></td>
<td><img src="/2025/01/04/aigc-paper-share/image-20250104223207497.png"
alt="image-20250104223207497" /></td>
</tr>
<tr>
<td><strong>OMG + style LoRAs (Style Control)</strong></td>
<td><img src="/2025/01/04/aigc-paper-share/image-20250104223217116.png"
alt="image-20250104223217116" /></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="æ€ä¹ˆåšåˆ°">æ€ä¹ˆåšåˆ°ï¼š</h4>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223238466.png"
alt="image-20250104223238466" />
<figcaption aria-hidden="true">image-20250104223238466</figcaption>
</figure>
<p>OMGæ˜¯ä¸€ç§ä¸¤é˜¶æ®µçš„ç”Ÿæˆæ–¹æ³•ï¼Œä¸€é˜¶æ®µå…ˆç”¨æ— è§’è‰²ä¿¡æ¯çš„æ–‡ç”Ÿå›¾æ¨¡å‹å«å›¾ç”Ÿæˆå¸ƒå±€ï¼Œç„¶åæå–å«å›¾å…¨é¢çš„è§†è§‰ä¿¡æ¯ï¼ˆmask
å’Œ attention mapï¼‰ï¼ŒäºŒé˜¶æ®µå°†å„è§’è‰²çš„ç‰¹å®šæ¦‚å¿µä¿¡æ¯ä½œç”¨äºå¯¹åº”çš„ mask
åŒºåŸŸï¼Œé¿å…ä¿¡æ¯æ³„éœ²ï¼Œå±æ€§é”™ä¹±ï¼Œå¹¶å¤ç”¨ä¸€é˜¶æ®µçš„ attention
mapï¼Œç»´æŒæ„å›¾å¸ƒå±€ä¸å˜ã€‚è¿™é‡Œçš„æ¦‚å¿µä¿¡æ¯å¯ä»¥æ˜¯ LoRA ä¹Ÿå¯ä»¥æ˜¯
InstantIDã€‚</p>
<h5
id="ä¸€é˜¶æ®µç”Ÿæˆæ„å›¾å¸ƒå±€å¹¶æå–è§†è§‰ä¿¡æ¯">1.ä¸€é˜¶æ®µï¼šç”Ÿæˆæ„å›¾å¸ƒå±€å¹¶æå–è§†è§‰ä¿¡æ¯</h5>
<p>é¦–å…ˆç”¨ä¸€ä¸ªå…¨å±€çš„prompt påœ¨æ–‡ç”Ÿå›¾æ¨¡å‹T2Iä¸Šç”Ÿæˆä¸€å¼ å«å›¾</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223305875.png"
alt="image-20250104223305875" />
<figcaption aria-hidden="true">image-20250104223305875</figcaption>
</figure>
<p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œæ²¡æœ‰ä»»ä½•è§’è‰²ä¿¡æ¯(lora/InstanceId)</p>
<p>ç¬¬ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬è¦æå–å«å›¾çš„è§†è§‰ä¿¡æ¯ï¼Œè¿™é‡Œçš„è§†è§‰ä¿¡æ¯æœ‰ä¸¤é¡¹ï¼šç”Ÿæˆè¿‡ç¨‹ä¸­æ¯ä¸€æ—¶é—´æ­¥æ¯ä¸€å±‚çš„æ³¨æ„åŠ›å›¾
attention map
å’Œæ¯ä¸ªè§’è‰²çš„åˆ†å‰²æ©ç ã€‚æ³¨æ„åŠ›å›¾åœ¨ç”Ÿå›¾è¿‡ç¨‹ä¸­è®°å¾—ä¿å­˜å³å¯ï¼Œè€Œè§’è‰²çš„æ©ç å›¾ï¼Œåˆ™æ˜¯åŸºäºè§’è‰²ç±»åˆ«çš„åŸºæœ¬è¯ï¼ˆmanã€womanï¼‰ï¼Œä½¿ç”¨å¼€é›†æ£€æµ‹åˆ†å‰²çš„æ¨¡å‹ï¼ˆå¦‚
GroundingDION+SAMã€YoloWorld+EfficientSAMï¼‰æ¥è¿›è¡Œåˆ†å‰²ã€‚</p>
<h5 id="ç¬¬äºŒé˜¶æ®µå¤šæ¦‚å¿µå®šåˆ¶åŒ–å»å™ª">ç¬¬äºŒé˜¶æ®µï¼šå¤šæ¦‚å¿µå®šåˆ¶åŒ–å»å™ª</h5>
<p>ä¸ºäº†é¿å…æ¦‚å¿µä¿¡æ¯æ³„éœ²ï¼Œé€ æˆè§’è‰²å±æ€§é”™ä¹±ï¼ŒOMG
åœ¨è¿›è¡Œç¬¬äºŒé˜¶æ®µå¤šæ¦‚å¿µå®šåˆ¶åŒ–ç”Ÿæˆæ—¶ä¸è¿›è¡Œ LoRA
èåˆï¼Œè€Œæ˜¯ä½¿ç”¨å¤šä¸ªå•æ¦‚å¿µçš„æ¨¡å‹åˆ†åˆ«è¿›è¡Œæ¨ç†ï¼Œå¹¶ä½œç”¨äºä¸€é˜¶æ®µå¾—åˆ°çš„å„è‡ªæ©ç åŒºåŸŸä¸­ã€‚å³ä¸€ä¸ª
LoRA åªè´Ÿè´£ä¸€ä¸ªè§’è‰²åŒºåŸŸçš„ç”Ÿæˆã€‚è¿™ç§°ä¸ºæ¦‚å¿µå™ªå£°æ··åˆï¼ˆConcept Noise
Blendingï¼‰ã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223331480.png"
alt="image-20250104223331480" />
<figcaption aria-hidden="true">image-20250104223331480</figcaption>
</figure>
<h5 id="ä¸åŒæ—¶é—´æ­¥å¼€å¯æ··åˆ">ä¸åŒæ—¶é—´æ­¥å¼€å¯æ··åˆï¼š</h5>
<p>ä¸‹å›¾å¯¹æ¯”äº†ç¬¬äºŒé˜¶æ®µä¸­ä¸åŒæ—¶é—´æ­¥å¼€å¯æ¦‚å¿µå™ªå£°æ··åˆå¯¹æœ€ç»ˆç”Ÿæˆç»“æœçš„å½±å“ï¼Œæœ€å·¦ä¾§æ˜¯ä»ä¸€å¼€å§‹ï¼Œç¬¬
50 æ­¥ï¼ˆå› ä¸ºç”¨äº† DDIM é‡‡æ ·å™¨ï¼‰å°±å¼€å¯æ¦‚å¿µå™ªå£°æ··åˆï¼Œæœ€å³ä¾§è¡¨ç¤ºç¬¬ 0
æ­¥æ‰å¼€å¯ï¼Œç›¸å½“äºæ²¡å¼€å¯ï¼Œå³å®Œå…¨ç­‰äºç¬¬ä¸€é˜¶æ®µçš„ç»“æœï¼Œä¸­é—´æ˜¯ 0-50
æ­¥ä¹‹é—´å¼€å¯ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæ¦‚å¿µå™ªå£°æ··åˆå¼€å¯å¾—è¶Šæ—©ï¼Œæ¦‚å¿µç‰¹å¾ä¿æŒå¾—è¶Šå¥½ã€‚å¹¶ä¸”ï¼Œå¼€å¯å¾—è¶Šæ—©å¯¹å›¾åƒæ„å›¾å¸ƒå±€çš„å½±å“ä¹Ÿè¶Šå¤§ï¼Œå¼€å¯çš„è¶Šæ™šï¼Œæ„å›¾å¸ƒå±€ä¸ç¬¬ä¸€é˜¶æ®µç»“æœè¶Šç›¸è¿‘ã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223346380.png"
alt="image-20250104223346380" />
<figcaption aria-hidden="true">image-20250104223346380</figcaption>
</figure>
<h4 id="æ€»ç»“-1">æ€»ç»“ï¼š</h4>
<p>æƒ³è¦åœ¨æœ‰äº¤å çš„æƒ…å†µä¸‹ï¼Œç²¾ç¡®åœ°æ§åˆ¶å¤šä¸ªæ¦‚å¿µçš„å±æ€§ç‰¹å¾ï¼ŒåŸºæœ¬æ€è·¯æ˜¯ â€å«å›¾
+ åŒºåŸŸåˆ†ç¦»é‡ç»˜â€œ
çš„æ–¹æ¡ˆï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•ä¼šæœ‰ä¸ªé—®é¢˜ï¼šå¦‚æœå¤šä¸ªæ¦‚å¿µçš„åŸºæœ¬è¯­ä¹‰ç±»æ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚ä¸¤ä¸ª
womanï¼Œè¿™æ—¶å€™ zero-shot
åˆ†å‰²æ¨¡å‹æ€ä¹ˆå·¥ä½œï¼Œå¯¹äºç›¸åŒè¯­ä¹‰ç±»çš„å¤šæ¦‚å¿µå¾ˆéš¾è¿›è¡Œå¯æ§çš„ä¸ªæ€§åŒ–ç”Ÿæˆ</p>
<h2
id="threatergenå¤šè½®å¯¹è¯llmimage-generation">ThreaterGenï¼šå¤šè½®å¯¹è¯ï¼ˆLLM+image
generationï¼‰</h2>
<p><strong>https://howe140.github.io/theatergen.io/</strong></p>
<h4 id="èƒŒæ™¯-1">èƒŒæ™¯ï¼š</h4>
<ol type="1">
<li>è¯­ä¹‰ä¸€è‡´æ€§â€”â€”ç°æœ‰æ–¹æ³•åœ¨å¤„ç†å¤æ‚æè¿°ï¼ˆå¦‚ç©ºé—´å…³ç³»ã€æ•°é‡æˆ–æŒ‡ä»£è¡¨è¾¾â€œå®ƒä»¬â€ç­‰ï¼‰æ—¶é‡åˆ°å›°éš¾ï¼Œå¯¼è‡´ç”Ÿæˆçš„å›¾åƒåœ¨è¯­ä¹‰ä¸Šä¸ç”¨æˆ·è¯·æ±‚ä¸ä¸€è‡´ï¼›(2)
ä¸Šä¸‹æ–‡ä¸€è‡´æ€§â€”â€”åœ¨å¤šè½®å¯¹è¯ä¸­çš„å›¾åƒç”Ÿæˆè¿‡ç¨‹ä¸­ï¼ŒåŒä¸€å®ä½“ç»å¸¸éš¾ä»¥åœ¨ä¸åŒè½®æ¬¡ä¸­ä¿æŒä¸€è‡´ç‰¹å¾ï¼Œç”šè‡³å¯èƒ½è¢«é—å¿˜ã€‚ä¾‹å¦‚ï¼ŒåŒä¸€åªç‹—åœ¨ä¸åŒè½®æ¬¡ä¸­çœ‹èµ·æ¥ä¸åŒè€Œæ²¡æœ‰ç”¨æˆ·ç¼–è¾‘ã€‚</li>
</ol>
<h4 id="å…ˆçœ‹æ•ˆæœ-1">å…ˆçœ‹æ•ˆæœï¼š</h4>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 69%" />
</colgroup>
<thead>
<tr>
<th>è®²æ•…äº‹</th>
<th><img src="/2025/01/04/aigc-paper-share/image-20250104223537655.png"
alt="image-20250104223537655" /></th>
</tr>
</thead>
<tbody>
<tr>
<td>å¤šè½®ç¼–è¾‘</td>
<td><img src="/2025/01/04/aigc-paper-share/image-20250104223550213.png"
alt="image-20250104223550213" /></td>
</tr>
<tr>
<td>å®šé‡ï¼šåœ¨è‡ªå·±çš„æ•°æ®é›†ä¸Šæµ‹è¯•</td>
<td><img src="/2025/01/04/aigc-paper-share/image-20250104223626463.png"
alt="image-20250104223626463" /></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="æ€ä¹ˆåšåˆ°-1">æ€ä¹ˆåšåˆ°ï¼š</h4>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223722467.png"
alt="image-20250104223722467" />
<figcaption aria-hidden="true">image-20250104223722467</figcaption>
</figure>
<p>æœ¬æ–‡æå‡ºçš„ ppl å¦‚å›¾ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µ</p>
<p>1.ç¬¬ä¸€é˜¶æ®µæ˜¯ LLM çš„è§’è‰²è®¾è®¡ï¼šç”¨ LLM å®Œæˆè§’è‰²è®¾è®¡ï¼ŒåŒ…æ‹¬è§’è‰²çš„å¤–è§‚æè¿°
+ layout ä¿¡æ¯ã€‚</p>
<p>2.ç¬¬äºŒé˜¶æ®µç”¨ T2I å®Œæˆç¬¬ä¸€é˜¶æ®µè§’è‰²çš„å›¾ç‰‡ç”Ÿæˆå’Œ latent æå–ï¼Œä½œä¸º
reference img</p>
<p>3.ç¬¬ä¸‰é˜¶æ®µæ•´åˆå‰ä¸¤ä¸ªé˜¶æ®µçš„ä¿¡æ¯ï¼Œç”Ÿæˆç¬¦åˆç”¨æˆ·è¾“å…¥ prompt çš„å›¾ç‰‡ã€‚</p>
<hr />
<h5 id="ç¬¬ä¸€é˜¶æ®µllm-è§’è‰²è®¾è®¡">1.ç¬¬ä¸€é˜¶æ®µï¼ŒLLM è§’è‰²è®¾è®¡</h5>
<p>åœ¨è¿™ä¸€é˜¶æ®µï¼Œåˆ©ç”¨ LLMï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥çš„è¦æ±‚ï¼ŒæŠŠå¯¹åº” prompt
çš„ä¿¡æ¯åšæ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–çš„è¾“å‡ºåŒ…å«äº†èƒŒæ™¯ promptã€neg
promptï¼Œå¦å¤–æœ€æ ¸å¿ƒçš„éƒ¨åˆ†æ˜¯å„ä¸ªä¸»ä½“çš„ promptã€‚æ¯ä¸€ä¸ªä¸»ä½“ prompt éƒ½æ˜¯ä¸€ä¸ª
triplet å¯¹ï¼Œæ˜¯ä¸€ä¸ªåŒ…å«äº† idã€promptã€layoutï¼ˆbbox æ ¼å¼ï¼‰çš„ä¸‰å…ƒç»„ã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223810670.png"
alt="image-20250104223810670" />
<figcaption aria-hidden="true">image-20250104223810670</figcaption>
</figure>
<h5 id="ç¬¬äºŒé˜¶æ®µreference-img-ç”Ÿæˆ">2.ç¬¬äºŒé˜¶æ®µï¼Œreference img ç”Ÿæˆ</h5>
<p>æ ¹æ®ç¬¬ä¸€é˜¶æ®µç»™å‡ºçš„ä¸»ä½“ promptï¼Œç”¨ T2I
æ¨¡å‹ç”Ÿæˆä¸€å¼ å¯¹åº”è§’è‰²çš„å‚è€ƒå›¾ç‰‡ï¼Œè¿™å¼ å‚è€ƒå›¾åç»­ä¼šé€šè¿‡ ip-adapter
æ¥æ³¨å…¥æ¨¡å‹ã€‚æœ‰äº† reference imgï¼Œå°±å¯ä»¥é’ˆå¯¹å„ä¸ª prompt
ç”Ÿæˆå¯¹åº”çš„å›¾ç‰‡ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>aï¼‰æ ¹æ® ref img + å¾…ç”Ÿæˆ
promptï¼Œå¯ä»¥ç”Ÿæˆä¸€å¼ ï¼ˆåªï¼‰åŒ…å«è¯¥ä¸»ä½“çš„å›¾ç‰‡</p>
<p>bï¼‰å¯¹ä¸Šè¿°å›¾ç‰‡åšåˆ†å‰²ï¼Œå¾—åˆ°å‰æ™¯çš„ç‰©ä½“ã€‚å› ä¸ºä¸€æ¡ prompt
é‡Œé¢å¯èƒ½åŒ…å«å¤šä¸ªç‰©ä½“ï¼Œæ‰€ä»¥éœ€è¦å¯¹æ¯ä¸€ä¸ªå‡ºç°çš„ç‰©ä½“éƒ½æ‰§è¡Œç¬¬ä¸€ã€äºŒæ­¥ã€‚</p>
<p>cï¼‰æ ¹æ® LLM ç»™å‡ºçš„ layout
ä¿¡æ¯ï¼Œå°†ç¬¬äºŒéƒ¨å»é™¤èƒŒæ™¯çš„ä¸»ä½“è´´åœ¨å¯¹åº”ä½ç½®ä¸Šï¼ˆéœ€è¦åš scale çš„é€‚é…ï¼‰ã€‚</p>
<p>dï¼‰ç„¶åå¯¹ç¬¬ä¸‰æ­¥å¾—åˆ°çš„å›¾ç‰‡ï¼Œè®¡ç®— canny å›¾ï¼Œå¦å¤–ç»è¿‡ä¸€æ¬¡ SD
çš„å‰ä¼ å¾—åˆ°æ¯ä¸€æ­¥çš„ feature ä½œä¸ºç”Ÿæˆçš„ guidanceï¼ˆç§°ä¸º latent
guidanceï¼‰ã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223829556.png"
alt="image-20250104223829556" />
<figcaption aria-hidden="true">image-20250104223829556</figcaption>
</figure>
<h5 id="ç¬¬ä¸‰é˜¶æ®µä¿¡æ¯æ•´åˆå›¾ç‰‡ç”Ÿæˆ">ç¬¬ä¸‰é˜¶æ®µï¼Œä¿¡æ¯æ•´åˆ+å›¾ç‰‡ç”Ÿæˆ</h5>
<p>åœ¨è¿™ä¸€é˜¶æ®µï¼Œä¼šæŠŠä¸Šè¿°æ ¼å¼åŒ–çš„ prompt åˆå¹¶ï¼Œä½œä¸º SD è¾“å…¥çš„ text
promptã€‚canny ä¿¡æ¯é€šè¿‡ controlnet æ³¨å…¥ SDã€‚è€Œ lantent guidance
æ³¨å…¥æ–¹å¼å¦‚ä¸‹ï¼Œä¼šé€‰æ‹©åœ¨ä¸€å®šçš„ step
èŒƒå›´å†…æ³¨å…¥è€Œä¸æ˜¯å…¨è¿‡ç¨‹éƒ½åŠ ã€‚æ³¨å…¥çš„æ—¶å€™ï¼Œä¸»ä½“ mask åŒºåŸŸå†…ç”¨ latent
guidanceï¼Œmaskå¤–åˆ™ç”¨ SD æœ¬èº«ç”Ÿæˆçš„å†…å®¹ã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223847906.png"
alt="image-20250104223847906" />
<figcaption aria-hidden="true">image-20250104223847906</figcaption>
</figure>
<h4 id="æ€»ç»“-2">æ€»ç»“ï¼š</h4>
<p>1.åˆ©ç”¨ LLM + T2I çš„èƒ½åŠ›æ¥åšè¿ç»­æ•…äº‹çš„ ip ä¿æŒã€‚é€šè¿‡ LLM
ä¿è¯ç”Ÿæˆæ•…äº‹ä¸Šä¸‹æ–‡çš„è¿ç»­æ€§ï¼Œä»¥åŠäººç‰©çš„å…³è”æ€§ï¼›é€šè¿‡ LLM
æ¥ç”Ÿæˆä¸»ä½“çš„ç‰¹å¾æè¿°ï¼Œå°†è¿™ä¸ªç‰¹å¾æè¿°é€ç»™ T2I
æ¨¡å‹ç”Ÿæˆè¯¥ä¸»ä½“çš„ä¸€å¼ å‚è€ƒå›¾ã€‚LLM è¿˜è¢«ç”¨æ¥ç”Ÿæˆå›¾ç‰‡çš„
layoutï¼Œç”¨æ¥æ§åˆ¶æ¯ä¸€ä¸ªä¸»ä½“çš„ç”Ÿæˆä½ç½®ã€‚</p>
<p>2.å¤šè½®ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡å¤–éƒ¨è¾“å…¥æ¥æ”¹å˜ç”Ÿæˆç»“æœï¼Œå…è®¸ç”¨æˆ·äº¤äº’</p>
<h2
id="autostudioåœ¨å¤šè½®äº¤äº’å¼å›¾åƒç”Ÿæˆä¸­æ‰“é€ ä¸€è‡´çš„ä¸»ä½“">AutoStudioï¼šåœ¨å¤šè½®äº¤äº’å¼å›¾åƒç”Ÿæˆä¸­æ‰“é€ ä¸€è‡´çš„ä¸»ä½“</h2>
<h4 id="èƒŒæ™¯-2">èƒŒæ™¯ï¼š</h4>
<p>æ–‡æœ¬åˆ°å›¾åƒ(TGI)ç”Ÿæˆæ¨¡å‹åœ¨ç”Ÿæˆå•å¼ å›¾åƒæ–¹é¢å·²ç»è¡¨ç°å‡ºè‰²,æ›´å…·æŒ‘æˆ˜æ€§çš„ä»»åŠ¡â€”â€”å¤šè½®äº¤äº’å¼å›¾åƒç”Ÿæˆå¼€å§‹å¸å¼•ç›¸å…³ç ”ç©¶ç¤¾åŒºçš„æ³¨æ„.è¿™ä¸ªä»»åŠ¡è¦æ±‚æ¨¡å‹åœ¨å¤šä¸ªå›åˆä¸­ä¸ç”¨æˆ·äº’åŠ¨ï¼Œä»¥ç”Ÿæˆè¿è´¯çš„å›¾åƒåºåˆ—ã€‚ç„¶è€Œï¼Œç”±äºç”¨æˆ·å¯èƒ½é¢‘ç¹åˆ‡æ¢ä¸»ä½“ï¼Œç›®å‰çš„åŠªåŠ›éš¾ä»¥åœ¨ç”Ÿæˆå¤šæ ·åŒ–å›¾åƒçš„åŒæ—¶ä¿æŒä¸»ä½“ä¸€è‡´æ€§ã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223924036.png"
alt="image-20250104223924036" />
<figcaption aria-hidden="true">image-20250104223924036</figcaption>
</figure>
<h4 id="æ•ˆæœ">æ•ˆæœï¼š</h4>
<h5
id="é‡åŒ–æŒ‡æ ‡autostudioåœ¨æ‰€æœ‰æŒ‡æ ‡ä¸Šéƒ½æ˜æ˜¾ä¼˜äºä¹‹å‰çš„æ–¹æ³•">1.é‡åŒ–æŒ‡æ ‡ï¼šAutoStudio<strong>åœ¨æ‰€æœ‰æŒ‡æ ‡ä¸Šéƒ½æ˜æ˜¾ä¼˜äºä¹‹å‰çš„æ–¹æ³•</strong>ã€‚</h5>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104223944051.png"
alt="image-20250104223944051" />
<figcaption aria-hidden="true">image-20250104223944051</figcaption>
</figure>
<h5 id="å¯è§†åŒ–">2.å¯è§†åŒ–ï¼š</h5>
<p>Theatergenæ— æ³•å¤„ç†äººç‰©ä¹‹é—´å¤æ‚çš„äº’åŠ¨ï¼ˆå¦‚æ‹¥æŠ±å’Œæ¥å»ï¼‰ï¼Œè€ŒMiniGeminiåˆ™éš¾ä»¥ä¿æŒä¸»ä½“çš„ä¸€è‡´æ€§ã€‚</p>
<p>Intelligent
Grimmå’ŒStoryDiffusionæ— æ³•åœ¨å¤šå›åˆäº’åŠ¨ä¸­ä¿æŒå¤šä¸ªè§’è‰²ä¹‹é—´çš„ä¸€è‡´æ€§ï¼Œå¹¶è¡¨ç°å‡ºæœ‰é™çš„ç¼–è¾‘æ•ˆæœã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224024890.png"
alt="image-20250104224024890" />
<figcaption aria-hidden="true">image-20250104224024890</figcaption>
</figure>
<h4 id="æ€ä¹ˆåšåˆ°-2">æ€ä¹ˆåšåˆ°ï¼š</h4>
<p>ä»–ä»¬çš„ç›®æ ‡æ˜¯å¼•å…¥ä¸€ä¸ªå¤šåŠŸèƒ½ã€å¯æ‰©å±•çš„æ¡†æ¶ï¼Œé€šè¿‡å¤šæ™ºèƒ½ä½“åä½œï¼Œå¯ä»¥å°†ä»»ä½•æ‰€éœ€çš„LLMæ¶æ„å’Œæ‰©æ•£éª¨å¹²ç»“åˆåˆ°æ¡†æ¶ä¸­ï¼Œä»¥æ»¡è¶³ç”¨æˆ·å¤šè½®ç”Ÿæˆçš„å¤šæ ·åŒ–éœ€æ±‚ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼ŒAutoStudioåŒ…æ‹¬ä¸‰ä¸ªåŸºäºLLMçš„æ™ºèƒ½ä½“ï¼š</p>
<ul>
<li><p><strong>ä¸»é¢˜ç®¡ç†å™¨</strong>è§£é‡Šå¯¹è¯ï¼Œè¯†åˆ«ä¸åŒçš„ä¸»é¢˜ï¼Œå¹¶ä¸ºå…¶åˆ†é…é€‚å½“çš„ä¸Šä¸‹æ–‡ï¼›-ã€‹IDï¼Œprompt</p></li>
<li><p><strong>å¸ƒå±€*<em>*</em>ç”Ÿæˆå™¨</strong>ä¸ºæ¯ä¸ªä¸»é¢˜ç”Ÿæˆéƒ¨åˆ†çº§åˆ«çš„è¾¹ç•Œæ¡†ï¼Œä»¥æ§åˆ¶ä¸»é¢˜çš„ä½ç½®ï¼›-ã€‹coarse
layout</p></li>
<li><p><strong>ç›‘ç£å‘˜</strong>ä¸ºå¸ƒå±€ç”Ÿæˆå™¨æä¾›å¸ƒå±€æ”¹è¿›å’Œä¿®æ­£çš„å»ºè®®ã€‚</p></li>
</ul>
<p>æœ€åï¼Œ<strong>ç»˜åˆ¶å™¨</strong>åŸºäºæ‰©æ•£æ¨¡å‹å®ŒæˆåŸºäºæ”¹è¿›å¸ƒå±€çš„å›¾åƒç”Ÿæˆã€‚</p>
<p>æ­¤å¤–ï¼Œç ”ç©¶äººå‘˜åœ¨ç»˜åˆ¶å™¨ä¸­å¼•å…¥äº†ä¸€ä¸ª<strong>å¹¶è¡Œ*<em>*</em>UNet</strong>ï¼ˆP-UNetï¼‰ï¼Œå®ƒå…·æœ‰ä¸€ç§æ–°é¢–çš„æ¶æ„ï¼Œåˆ©ç”¨ä¸¤ä¸ªå¹¶è¡Œçš„äº¤å‰æ³¨æ„åŠ›æ¨¡å—åˆ†åˆ«å¢å¼ºæ–‡æœ¬å’Œå›¾åƒåµŒå…¥çš„æ½œåœ¨ä¸»é¢˜ç‰¹å¾ã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224046351.png"
alt="image-20250104224046351" />
<figcaption aria-hidden="true">image-20250104224046351</figcaption>
</figure>
<h5 id="ä¸»é¢˜ç®¡ç†å™¨">ä¸»é¢˜ç®¡ç†å™¨ï¼š</h5>
<p>1.å†å²è¾“å…¥ 2.é¢„å®šä¹‰prompt</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224101887.png"
alt="image-20250104224101887" />
<figcaption aria-hidden="true">image-20250104224101887</figcaption>
</figure>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224109475.png"
alt="image-20250104224109475" />
<figcaption aria-hidden="true">image-20250104224109475</figcaption>
</figure>
<h5 id="layoutç®¡ç†å™¨">layoutç®¡ç†å™¨ï¼š</h5>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224123560.png"
alt="image-20250104224123560" />
<figcaption aria-hidden="true">image-20250104224123560</figcaption>
</figure>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224131380.png"
alt="image-20250104224131380" />
<figcaption aria-hidden="true">image-20250104224131380</figcaption>
</figure>
<h5 id="supervisorç®¡ç†å™¨">supervisorç®¡ç†å™¨</h5>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224146486.png"
alt="image-20250104224146486" />
<figcaption aria-hidden="true">image-20250104224146486</figcaption>
</figure>
<h5 id="å›¾åƒç”Ÿæˆ">å›¾åƒç”Ÿæˆï¼š</h5>
<p>æœ‰äº†å¥½çš„å¸ƒå±€ï¼Œå°±èƒ½ç”Ÿæˆå¥½çš„å…·æœ‰ä¸€è‡´å¤šä¸»ä½“è¡¨ç°çš„å¸å¼•äººå›¾åƒå—ï¼Ÿ</p>
<p>ç°åœ¨çš„ï¼šæ¨¡å‹ä¸å¾®è°ƒï¼Œå›¾åƒå¯æ§-ã€‹depthã€open pose-ã€‹controlnet</p>
<p>1.ä¸»ä½“åˆå§‹åŒ–ç”Ÿæˆï¼š</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224202197.png"
alt="image-20250104224202197" />
<figcaption aria-hidden="true">image-20250104224202197</figcaption>
</figure>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224209991.png"
alt="image-20250104224209991" />
<figcaption aria-hidden="true">image-20250104224209991</figcaption>
</figure>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224217340.png"
alt="image-20250104224217340" />
<figcaption aria-hidden="true">image-20250104224217340</figcaption>
</figure>
<p>2.PUnet</p>
<p>å°†å»å™ªè¿‡ç¨‹ä¸­ä»»æ„UNetå±‚çš„è¾“å…¥æ½œåœ¨ç‰¹å¾è¡¨ç¤ºä¸ºZã€‚æˆ‘ä»¬å°†UNetå±‚çš„åŸå§‹äº¤å‰æ³¨æ„åŠ›æ¨¡å—æ‹†åˆ†ä¸ºä¸¤ä¸ªå¹¶è¡Œçš„æ–‡æœ¬å’Œå›¾åƒäº¤å‰æ³¨æ„åŠ›æ¨¡å—ï¼ˆåˆ†åˆ«è¡¨ç¤ºä¸ºPTCAå’ŒPICAï¼‰æ¥ä¼˜åŒ–ZZZã€‚è¿™ä¸¤ä¸ªæ¨¡å—å…·æœ‰ç›¸åŒçš„æ¶æ„ï¼Œå…¶å…³é”®æ€æƒ³æ˜¯è®¡ç®—ZZZä¸æ¯ä¸ªä¸»ä½“æ–‡æœ¬/å›¾åƒåµŒå…¥ä¹‹é—´çš„ç‰¹å¾ç›¸ä¼¼æ€§ã€‚</p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224244780.png"
alt="image-20250104224244780" />
<figcaption aria-hidden="true">image-20250104224244780</figcaption>
</figure>
<h4 id="æ€»ç»“-3">æ€»ç»“ï¼š</h4>
<p>1.å·¥ç¨‹åŒ–åº”ç”¨å’Œæ§åˆ¶å¾ˆå¥½ï¼Œæ€»-åˆ†çš„æ€è·¯å»æ§åˆ¶ç”Ÿæˆã€‚</p>
<p>2.å¼•å…¥ç›‘ç£å™¨å½¢æˆåé¦ˆé“¾è·¯ã€‚</p>
<p>å…³äºgeneratorã€Š-ã€‹supervisorï¼Œè€ƒè¯•-è¯„åˆ†çš„è€¦åˆç»“æ„å…³ç³»ï¼Œ</p>
<p>é˜¿é‡Œæ•°å­¦ç«èµ›aiæœ€é«˜åˆ†ï¼š</p>
<p><a
target="_blank" rel="noopener" href="https://blog.richardstu.com/solution-sharing-and-some-thoughts-about-alibaba-mathematical-competition-for-ai">Solution
Sharing and Some Thoughts about Alibaba Global Mathematical Competition
for AI</a></p>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224306153.png"
alt="image-20250104224306153" />
<figcaption aria-hidden="true">image-20250104224306153</figcaption>
</figure>
<figure>
<img src="/2025/01/04/aigc-paper-share/image-20250104224313553.png"
alt="image-20250104224313553" />
<figcaption aria-hidden="true">image-20250104224313553</figcaption>
</figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/04/laion-dataset/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/04/laion-dataset/" class="post-title-link" itemprop="url">laionæ•°æ®é›†</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2025-01-04 22:24:05 / Modified: 22:25:08" itemprop="dateCreated datePublished" datetime="2025-01-04T22:24:05+08:00">2025-01-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="laion-5b">LAION-5B</h2>
<p>LAION-5B æ˜¯ç›®å‰è§„æ¨¡æœ€å¤§çš„å¼€æ”¾å¤šæ¨¡æ€æ•°æ®é›†ä¹‹ä¸€ï¼ŒåŒ…å« 58.5 äº¿ä¸ª <a
target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=CLIP&amp;spm=1001.2101.3001.7020">CLIP</a>
[5]è¿‡æ»¤çš„å›¾åƒ-æ–‡æœ¬å¯¹çš„æ•°æ®é›†ï¼Œæ¯” LAION-400M å¤§ 14
å€ï¼Œæ˜¯ä¸–ç•Œç¬¬ä¸€å¤§è§„æ¨¡ã€å¤šæ¨¡æ€çš„æ–‡æœ¬å›¾åƒæ•°æ®é›†ï¼Œ<strong>å…±80Tæ•°æ®</strong>ï¼Œå¹¶æä¾›äº†è‰²æƒ…å›¾ç‰‡è¿‡æ»¤ã€æ°´å°å›¾ç‰‡è¿‡æ»¤ã€é«˜åˆ†è¾¨ç‡å›¾ç‰‡ã€ç¾å­¦å›¾ç‰‡ç­‰å­é›†å’Œæ¨¡å‹ï¼Œä¾›ä¸åŒæ–¹å‘ç ”ç©¶ã€‚</p>
<p>LAION-5Bä¸­åŒ…æ‹¬23.2äº¿çš„è‹±è¯­ï¼Œ22.6äº¿çš„100+è¯­è¨€åŠ12.7äº¿çš„æœªçŸ¥è¯­è¨€ï¼Œæˆ‘ä»¬å°†å­é›†åˆ†åˆ«æ ‡è®°ä¸ºï¼š</p>
<p><strong>â—</strong> laion2B-en (åº”è¯¥æ˜¯æˆ‘ä»¬è¦çš„2Bæ•°æ®é›†)</p>
<p><strong>â—</strong> <strong>laion2B-multi</strong></p>
<p><strong>â—</strong> <strong>laion1B-nolang</strong></p>
<p>LAIONè®­ç»ƒäº†ä¸€ä¸ªåŸºäºCLIPåµŒå…¥çš„è‰²æƒ…å†…å®¹è¯†åˆ«æ¨¡å‹NSFWï¼Œå¯ä»¥è¿‡æ»¤3%çš„ä¸é€‚å›¾ç‰‡ï¼ŒNSFWå‡†ç¡®ç‡çº¦96%ï¼Œè¿‡æ»¤åæœ‰å­é›†ï¼š</p>
<p>laion2B-en-safety</p>
<p>laion2B-multi-safety</p>
<p>laion1B-nolang-safety</p>
<p>LAIONè®­ç»ƒäº†ä¸€ä¸ªæ°´å°è¯†åˆ«æ¨¡å‹ï¼Œè¿‡æ»¤åæœ‰å­é›†ï¼š</p>
<p>laion2B-en-watermark</p>
<p>laion2B-multi-watermark</p>
<p>laion1B-nolang-watermark</p>
<p>ä¸€ä¸ª170Mçš„è¶…åˆ†è¾¨ç‡å­é›†ï¼š</p>
<p>laion-high-resolution</p>
<p>ä¸€ä¸ª120Mçš„ç¾å­¦å›¾ç‰‡å­é›†ï¼Œå¯ä»¥ç”¨æ¥åšå›¾ç‰‡ç”Ÿæˆï¼š</p>
<p>laion-aesthetic</p>
<h3 id="å­é›†">å­é›†</h3>
<p>LAION-5B æä¾›äº†å¤šç§å­é›†ï¼Œä»¥æ»¡è¶³ä¸åŒçš„ç ”ç©¶éœ€æ±‚ï¼š</p>
<ul>
<li><p><strong>LAION-400M</strong>ï¼šè§„æ¨¡è¾ƒå°ï¼Œçº¦ 400
ä¸‡ä¸ªå›¾åƒ-æ–‡æœ¬å¯¹ï¼Œæ–¹ä¾¿å¿«é€Ÿå®éªŒã€‚</p></li>
<li><p><strong>LAION-2B</strong>ï¼šåŒ…å« 20
äº¿å¯¹ï¼Œé€‚åˆä¸­ç­‰è§„æ¨¡å®éªŒã€‚</p></li>
<li><p><strong>LAION-5B</strong>ï¼šå®Œæ•´æ•°æ®é›†ã€‚</p>
<figure>
<img src="/2025/01/04/laion-dataset/image-20250104222449781.png"
alt="image-20250104222449781" />
<figcaption aria-hidden="true">image-20250104222449781</figcaption>
</figure></li>
</ul>
<h3 id="laion-2b-hd-å­é›†">LAION-2B-HD å­é›†</h3>
<ul>
<li><p><strong>å›¾åƒ-æ–‡æœ¬å¯¹æ€»æ•°</strong>ï¼šçº¦ <strong>1.2
äº¿å¯¹</strong>ã€‚</p></li>
<li><p><strong>å›¾åƒåˆ†è¾¨ç‡</strong>ï¼š</p></li>
<li><p>å¤§å¤šæ•°å›¾åƒçš„åˆ†è¾¨ç‡åœ¨ <strong>1024Ã—1024
åƒç´ </strong>æˆ–æ›´é«˜ã€‚</p></li>
<li><p><strong>æ•°æ®æ¥æº</strong>ï¼š</p></li>
<li><p>ä» LAION-2B
æ•°æ®é›†ä¸­è¿‡æ»¤ç”Ÿæˆï¼Œç¡®ä¿å›¾åƒæ¸…æ™°åº¦é«˜ï¼Œæ–‡æœ¬æè¿°ç›¸å…³æ€§å¼ºã€‚</p></li>
</ul>
<h4 id="ç‰¹ç‚¹">ç‰¹ç‚¹</h4>
<ul>
<li><p>é«˜è´¨é‡å›¾åƒï¼Œé€‚åˆå›¾åƒç”Ÿæˆã€è¶…çº§åˆ†è¾¨ç‡ç­‰ä»»åŠ¡ã€‚</p></li>
<li><p>æ–‡æœ¬æè¿°æ›´è´´è¿‘é«˜è´¨é‡å›¾åƒè¯­ä¹‰ã€‚</p></li>
</ul>
<p><strong>LAION-2B-HD</strong> æ˜¯ä» LAION
æ•°æ®é›†ä¸­ç­›é€‰å‡ºçš„é«˜è´¨é‡ã€é«˜åˆ†è¾¨ç‡å›¾åƒå­é›†ï¼Œé€‚åˆéœ€è¦é«˜åˆ†è¾¨ç‡å›¾åƒå’Œç²¾ç¡®æ–‡æœ¬æè¿°çš„ä»»åŠ¡ã€‚</p>
<h2 id="ä¸‹è½½æ–¹æ³•">ä¸‹è½½æ–¹æ³•ï¼š</h2>
<p>https://github.com/rom1504/img2dataset/blob/main/dataset_examples/laion-high-resolution.md</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/03/hugging-download/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/03/hugging-download/" class="post-title-link" itemprop="url">hugging-download</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-01-03 19:38:45" itemprop="dateCreated datePublished" datetime="2025-01-03T19:38:45+08:00">2025-01-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-04 22:16:12" itemprop="dateModified" datetime="2025-01-04T22:16:12+08:00">2025-01-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="hugging-faceç™»å½•æ–¹å¼">1.Hugging faceç™»å½•æ–¹å¼</h3>
<p>huggingfaceåºŸå¼ƒç”¨æˆ·åå’Œå¯†ç çš„ç™»å½•æ–¹å¼ï¼Œç”¨token</p>
<p>wget --header="Authorization: Bearer hf_xxx"<br />
</p>
<p>https://huggingface.co/runwayml/stable-diffusion-inpainting/resolve/main/sd-v1-5-inpainting.ckpt</p>
<h3
id="å¯ä»¥ä¸‹è½½sd1.5ä¸‹è½½æ•°æ®é›†å´403-forbidden">2.å¯ä»¥ä¸‹è½½sd1.5,ä¸‹è½½æ•°æ®é›†å´403
forbidden</h3>
<ol type="1">
<li>403 forbiddenï¼ˆå°†tokenæƒé™å¢åŠ write,æˆ‘å…¨æ‰“å¼€äº†ï¼‰</li>
<li><figure>
<img src="/2025/01/03/hugging-download/image-20250103194111502.png"
alt="image-20250103194111502" />
<figcaption aria-hidden="true">image-20250103194111502</figcaption>
</figure></li>
</ol>
<p>https://discuss.huggingface.co/t/error-403-what-to-do-about-it/12983</p>
<h3
id="å›½å†…æœºå™¨è®¿é—®huggingfaceç½‘ç»œä¸å¥½æ— æ³•ä¸‹è½½">3.å›½å†…æœºå™¨è®¿é—®huggingfaceç½‘ç»œä¸å¥½ï¼Œæ— æ³•ä¸‹è½½</h3>
<p>ç”¨é•œåƒç½‘ç«™hf-mirror.com</p>
<figure>
<img src="/2025/01/03/hugging-download/image-20250103194152062.png"
alt="image-20250103194152062" />
<figcaption aria-hidden="true">image-20250103194152062</figcaption>
</figure>
<p>wget --header="Authorization: Bearer hf_xxx"
https://hf-mirror.com/datasets/laion/laion-high-resolution/resolve/main/.part-00000-45914064-d424-4c1c-8d96-dc8125c645fb-c000.snappy.parquet.crc</p>
<h3 id="ä¸‹è½½laionæ•°æ®é›†ç”¨img2datasetå·¥å…·">4.
ä¸‹è½½laionæ•°æ®é›†ç”¨img2datasetå·¥å…·</h3>
<p>æ³¨æ„huggingfaceçš„laion
high-resolutionæ–‡ä»¶é‡Œæœ‰ä¸¤ç§æ–‡ä»¶ç±»å‹ï¼Œcrcæ˜¯parquetçš„æ ¡éªŒæ–‡ä»¶ï¼Œä¸‹äº†æ²¡ç”¨ï¼Œè¦ä¸‹è½½parquetæ–‡ä»¶æ˜¯æ•°æ®é›†çš„metadata</p>
<h3 id="wandbè¶…æ—¶">wandbè¶…æ—¶</h3>
<p>export WANDB_MODE=offline</p>
<h2 id="æ­¥éª¤">æ­¥éª¤ï¼š</h2>
<ol type="1">
<li><p>ä¸‹è½½metadata</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for i in &#123;0..127&#125;; do </span><br><span class="line"></span><br><span class="line">  wget --header=&quot;Authorization: Bearer hf_xxx&quot; https://hf-mirror.com/datasets/laion/laion-high-resolution/resolve/main/part-$(printf &quot;%05d&quot; $i)-45914064-d424-4c1c-8d96-dc8125c645fb-c000.snappy.parquet</span><br><span class="line"></span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
</ol>
<p>2.ä¸‹è½½åŸæ•°æ®</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export WANDB_MODE=offline</span><br><span class="line"></span><br><span class="line">img2dataset --url_list laion-high-resolution --input_format &quot;parquet&quot;\</span><br><span class="line"></span><br><span class="line">â€‹     --url_col &quot;URL&quot; --caption_col &quot;TEXT&quot; --output_format webdataset\</span><br><span class="line"></span><br><span class="line">â€‹      --output_folder laion-high-resolution-output --processes_count 16 --thread_count 64 --image_size 1024\</span><br><span class="line"></span><br><span class="line">â€‹      --resize_only_if_bigger=True --resize_mode=&quot;keep_ratio&quot; --skip_reencode=True \</span><br><span class="line"></span><br><span class="line">â€‹       --save_additional_columns &#x27;[&quot;similarity&quot;,&quot;hash&quot;,&quot;punsafe&quot;,&quot;pwatermark&quot;,&quot;LANGUAGE&quot;]&#x27; --enable_wandb True</span><br></pre></td></tr></table></figure>
<p>åº”è¯¥å·²ç»å¼€å§‹ä¸‹è½½äº†</p>
<figure>
<img src="/2025/01/03/hugging-download/image-20250104221538386.png"
alt="image-20250104221538386" />
<figcaption aria-hidden="true">image-20250104221538386</figcaption>
</figure>
<h2 id="ä¸‹è½½æ•°æ®é›†ç»“æœ">ä¸‹è½½æ•°æ®é›†ç»“æœ</h2>
<figure>
<img src="/2025/01/03/hugging-download/image-20250104221607364.png"
alt="image-20250104221607364" />
<figcaption aria-hidden="true">image-20250104221607364</figcaption>
</figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://77philosophia.github.io/2025/01/02/stable-diffusion-history/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="philosophia">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Garfield's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2025/01/02/stable-diffusion-history/" class="post-title-link" itemprop="url">stable-diffusion-history</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-01-02 18:59:15" itemprop="dateCreated datePublished" datetime="2025-01-02T18:59:15+08:00">2025-01-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-01-03 19:17:30" itemprop="dateModified" datetime="2025-01-03T19:17:30+08:00">2025-01-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191320002.png"
alt="image-20250103191320002" />
<figcaption aria-hidden="true">image-20250103191320002</figcaption>
</figure>
<h3 id="ç¬¬ä¸€ç¯‡æ–‡ç« -2015">ç¬¬ä¸€ç¯‡æ–‡ç« -2015</h3>
<p>å…³äºdiffusionçš„ç¬¬ä¸€ç¯‡æ–‡ç« æ¥è‡ªäº <a
target="_blank" rel="noopener" href="https://arxiv.org/abs/1503.03585">Deep Unsupervised Learning using
Nonequilibrium Thermodynamics</a> paper published in 2015.
å—åˆ°éå¹³è¡¡ç»Ÿè®¡ç‰©ç†çš„å¯å‘ï¼Œå¼•å…¥äº†ä¸€ä¸ªæ¨¡å‹ï¼Œå°†æ•°æ®çš„ç»“æ„ç ´åæˆt
stepsã€‚è¿™ä¸ªè¿‡ç¨‹å«åšforward diffusion;åœ¨æ­¤ä¹‹åæ¢å¤å«åšreverse
diffusion</p>
<figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191354356.png"
alt="image-20250103191354356" />
<figcaption aria-hidden="true">image-20250103191354356</figcaption>
</figure>
<p>è¿™ä¸ªå‰å‘çš„diffusionè¿‡ç¨‹æ¥è‡ªäºé©¬å°”å¯å¤«é“¾ï¼Œå°±æ˜¯tæ—¶åˆ»çš„ç»“æœåªä¸t-1æ—¶åˆ»çš„ç»“æœç›¸å…³ã€‚</p>
<p>ç„¶åæ˜¯é€†åƒçš„diffusionè¿‡ç¨‹ï¼Œé€šè¿‡gané¢„æµ‹æ¯ä¸€æ­¥çš„åˆ†å¸ƒã€‚</p>
<h3
id="å›¾åƒç”Ÿæˆå†æ¬¡å¼•å…¥diffusion-2020">å›¾åƒç”Ÿæˆå†æ¬¡å¼•å…¥diffusion-2020</h3>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2006.11239">Denoising Diffusion
Probabilistic Models</a> from 2020è¿™ç¯‡æ–‡ç« å–å¾—äº†è®©äººå°è±¡æ·±åˆ»çš„æ•ˆæœ</p>
<figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191420017.png"
alt="image-20250103191420017" />
<figcaption aria-hidden="true">image-20250103191420017</figcaption>
</figure>
<p>ä»–ä»¬è¯å®äº†reparameterizationçš„æŠ€å·§å¯ä»¥ç”¨åœ¨reverse
diffusionçš„è¿‡ç¨‹ä¸­å½¢æˆå°é—­çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191436862.png"
alt="image-20250103191436862" />
<figcaption aria-hidden="true">image-20250103191436862</figcaption>
</figure>
<p>å¹¶ä¸”å‘ç°é¢„æµ‹æ¯ä¸€æ­¥çš„å™ªéŸ³è€Œä¸æ˜¯å™ªéŸ³èƒŒåçš„å›¾åƒå¾—åˆ°æ›´å¥½çš„ç»“æœã€‚åœ¨CIFAR10æ•°æ®é›†ä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼Œåœ¨ISå’ŒFIDå¾—åˆ†ä¸­éƒ½å–å¾—äº†sota.</p>
<p>é‡æ–°å¼•å…¥diffusionä¸ºåé¢çš„midjourneyå’Œstable
diffusionéƒ½æ‰“ä¸‹äº†åŸºç¡€ã€‚</p>
<h3 id="clip">CLIP</h3>
<p>OpenAi å‘å¸ƒäº†ä»–ä»¬çš„è®ºæ–‡ <a
target="_blank" rel="noopener" href="https://arxiv.org/abs/2103.00020">Learning Transferable Visual
Models From Natural Language Supervision</a> and a <a
target="_blank" rel="noopener" href="https://openai.com/research/clip">blog post</a>å’Œ
å¼€æºçš„å¤šæ¨¡æ€çš„zero-shot CLIPæ¨¡å‹ã€‚</p>
<p>è¿™ä¸ªæ¨¡å‹åœ¨è¯­è¨€çš„ç›‘ç£ä¸‹å­¦ä¹ äº†è§†è§‰çš„ç‰¹å¾ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œä½†æ˜¯å®ƒå°†text
promptåŒ¹é…å›¾åƒåšçš„å¾ˆå¥½ã€‚</p>
<p>å®ƒä»¬æŠ“å–äº†äº’è”ç½‘çš„è¶…è¿‡400ç™¾ä¸‡å¼ å›¾ç‰‡ï¼Œä»–ä»¬å‘ç°å°†text
prompté€‚é…åˆ°æ¯ä¸ªä»»åŠ¡æ›´å¥½ï¼Œç›¸æ¯”ä¼ ç»Ÿçš„åˆ†ç±»æ¨¡å‹æ¥è¯´ã€‚æ¯”å¦‚ä¼ ç»Ÿçš„åˆ†ç±»æ¨¡å‹æ‰“çš„æ ‡ç­¾å°±æ˜¯ç±»åˆ«dogï¼Œä½†æ˜¯åœ¨text
prompté‡Œé¢å°±æ˜¯a photo of dogã€‚</p>
<p>å®ƒä»¬çš„é¢„è®­ç»ƒåŒ…æ‹¬ï¼š</p>
<ul>
<li><p>åŸºäºtransformerçš„text encoder</p></li>
<li><p>åŸºäºvision transformerçš„image encoder</p></li>
<li><p>åŸºäºresnetçš„image encoder</p></li>
</ul>
<p>è¾“å‡ºçš„å‘é‡text encoder:Tiå’ŒImage encoder Ii
ç„¶åç”¨åœ¨å®ƒä»¬ä¸‹ä¸€æ­¥çš„å¯¹æ¯”é¢„è®­ç»ƒè¿‡ç¨‹ä¸­ã€‚</p>
<p>è¾“å…¥æ˜¯</p>
<ul>
<li><p>ä¸€ä¸ªpromptç”¨äºæè¿°å›¾åƒä¸­çš„ç‰©ä½“ï¼Œå¦‚a photo of big
{object}</p></li>
<li><p>åŒ…å«è¯¥ç‰©ä½“çš„å›¾åƒ</p></li>
<li><figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191507830.png"
alt="image-20250103191507830" />
<figcaption aria-hidden="true">image-20250103191507830</figcaption>
</figure></li>
</ul>
<p>textå’Œimage encoderè¾“å‡ºçš„å‘é‡æ„æˆtext-imageå¯¹ï¼Œæ„æˆä¸€ä¸ªçŸ©é˜µ</p>
<ul>
<li><p>çŸ©é˜µå…ƒç´ æ˜¯ä¸€ä¸ªimage vectorå’Œtext vectorçš„ä¹˜ç§¯ï¼Œ<em>Ii *
Ti</em>.</p></li>
<li><p>çŸ©é˜µå¯¹è§’å…ƒç´ æ˜¯matchingçš„text-imageå¯¹</p></li>
<li><p>æ¯è¡Œéå¯¹è§’å…ƒç´ æ˜¯textå’Œimageä¸åŒ¹é…å¯¹åº”çš„</p></li>
</ul>
<p>æ¨¡å‹ç›®æ ‡æ˜¯æœ€å¤§åŒ–å¯¹è§’çº¿å…ƒç´ çš„å€¼ï¼Œæœ€å°åŒ–éå¯¹è§’çº¿å…ƒç´ å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹è¾“å‡ºçš„æ˜¯å¯¹æ¯”æ€§è¡¨ç¤ºï¼Œæ•æ‰çš„æ˜¯å›¾ç‰‡å’Œæ–‡æœ¬sharedçš„ç‰¹å¾ï¼Œå› æ­¤å«_Contrastive
Language-Image_ <em>Pre-training</em>.</p>
<p>è¿™ä¸ªæ¨¡å‹è¾“å‡ºçš„æ˜¯imageå’Œtextçš„embeddingè¡¨ç¤ºï¼Œè¿™äº›embeddingså¯ä»¥é€šè¿‡cosineç›¸ä¼¼åº¦æˆ–è€…æ¬§å‡ é‡Œå¾—è·ç¦»æ¥è¡¡é‡ç›¸ä¼¼åº¦ï¼Œè¿™äº›ç›¸ä¼¼åº¦å¯ä»¥ç”¨åœ¨å¾ˆå¤šä»»åŠ¡ä¸­ï¼Œæ¯”å¦‚GAN
æ¨¡å‹ä¸­çš„åˆ¤åˆ«å™¨æˆ–å›¾åƒåˆ†ç±»å™¨</p>
<h1
id="guided-language-to-image-diffusion-for-generation-and-editing-glide-2021å¹´åº•">Guided
Language to Image Diffusion for Generation and Editing
(GLIDE)-2021å¹´åº•</h1>
<p>OPENAIå‘è¡¨è®ºæ–‡_<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2112.10741">GLIDE:
Towards Photorealistic Image Generation and Editing with Text-Guided
Diffusion Models</a>_. è¿ç”¨äº†guided diffusionå’Œcomparing CLIP guidance
vs *Classifier-free
guidance,å…è®¸æ‰©æ•£æ¨¡å‹ä»æ–‡æœ¬ä¸­å­¦ä¹ ã€‚åœ¨diffusionå±‚ä¸­ä½¿ç”¨__unet__ç»“æ„ã€‚ç”¨åˆ°text-imageçš„__æ•°æ®é›†__ï¼Œè¿™ä¸ªæ•°æ®é›†åœ¨DALL-Eä¸­ä¹Ÿè¢«ä½¿ç”¨ã€‚*</p>
<h5 id="guided-diffusion">Guided diffusion</h5>
<p>ä½¿ç”¨transformer modelå»encode text
prompt,å°†æœ€åä¸€å±‚embeddingçš„è¾“å‡ºä½œä¸ºdiffusionæ¨¡å‹çš„class-conditioningï¼Œè¿™ä¸ªclass-conditioningä½¿ç”¨äº†attentionå»å…³æ³¨forward/backward/denising
attentionå±‚ã€‚</p>
<h5 id="clip-guidance">Clip guidance</h5>
<p>åœ¨æ¨ç†è¿‡ç¨‹ä¸­çš„å»å™ªæ‰©æ•£è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨clipè¿›è¡Œåˆ†ç±»èµ·æŒ‡å¯¼ã€‚ç”¨clipçš„ç‚¹ç§¯å¯¹æ¯”çŸ©é˜µæ¢¯åº¦æ‰°ä¹±å»å™ªå‡å€¼ï¼Œå°†åˆå§‹å»å™ªå›¾åƒç§»åŠ¨åˆ°
CLIP é¢„æµ‹é«˜æ–‡æœ¬å›¾åƒåŒ¹é…çš„æ–¹å‘ã€‚ç±»ä¼¼äº Google çš„ dreep deam æ¨¡å‹ã€‚</p>
<h5 id="classifier-free-guidance">Classifier-free guidance</h5>
<p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åŒæ—¶æä¾›æ²¡æœ‰text
guidanceçš„exampleï¼Œåœ¨æ¨ç†çš„å»å™ªé˜¶æ®µï¼Œè®©æ¨¡å‹é¢„æµ‹ä¸¤æ¬¡å™ªå£°ï¼Œä¸€æ¬¡æœ‰promptä¸€æ¬¡æ²¡æœ‰ã€‚text
guidanceä¼šå½±å“é¢„æµ‹çš„å™ªéŸ³å€¼ã€‚æœ‰textçš„é¢„æµ‹noise:(<em>ÎµÎ¸(xt|y)</em>),æ²¡æœ‰çš„(<em>ÎµÎ¸(xt|âˆ…)</em>)ã€‚æ–‡æœ¬é€ æˆçš„ä¸åŒåœ¨æ¯ä¸ªæ—¶é—´æ­¥tä¼šä¹˜ä»¥ä¸€ä¸ªç³»æ•°s,ç„¶ååŠ åˆ°é¢„æµ‹çš„å™ªéŸ³ä¸Šã€‚è¿™æ ·æ¨ç€å™ªéŸ³é¢„æµ‹å‘æ­£ç¡®çš„æ–¹å‘è¿›è¡Œã€‚å› ä¸ºæˆ‘ä»¬åœ¨æ¯ä¸€æ­¥éƒ½è€ƒè™‘äº†æ›´å¤šæ–‡æœ¬ç‰¹å®šçš„å™ªå£°ï¼Œä»è€Œå¢å¼ºäº†æ–‡æœ¬æ·»åŠ çš„å™ªå£°æ•ˆæœã€‚</p>
<h1 id="ÎµË†Î¸xty-ÎµÎ¸xt-s-ÎµÎ¸xty-ÎµÎ¸xt"><em>ÎµË†Î¸(xt|y) = ÎµÎ¸(xt|âˆ…) + s Â·
(ÎµÎ¸(xt|y) âˆ’ ÎµÎ¸(xt|âˆ…))</em></h1>
<figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191611149.png"
alt="image-20250103191611149" />
<figcaption aria-hidden="true">image-20250103191611149</figcaption>
</figure>
<p>ç»“æœå‘ç°classfier-free guidanceæ¯”clip guidanceæ•ˆæœæ›´å¥½</p>
<p>æœ€åä»–ä»¬è®­ç»ƒdiffusionç”¨çš„256x256ï¼Œå› ä¸ºæ‰©æ•£è¿‡ç¨‹æ˜¯å…¶è¿è¡Œçš„åƒç´ ç©ºé—´ä¸­éå¸¸å¯†é›†çš„è¿‡ç¨‹ã€‚å› æ­¤ä»–ä»¬ä¹Ÿè®­ç»ƒäº†ä¸€ä¸ªencoderå’Œdecoderç”¨äºé™é‡‡æ ·å’Œå¤åŸå›¾ç‰‡åˆ°1024x1024ã€‚</p>
<h3 id="latent-diffusion-2021å¹´åº•">Latent diffusion-2021å¹´åº•</h3>
<p>è®ºæ–‡ the _<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2112.10752">High-Resolution
Image Synthesis with Latent Diffusion Models</a>__ï¼Œ
ä¸»è¦å°†diffusionè¿‡ç¨‹ä»åƒç´ ç©ºé—´ç§»åˆ°äº†latent
spaceï¼Œä½¿å¾—diffusionè¿‡ç¨‹æ›´åŠ çš„é«˜æ•ˆ_</p>
<figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191635342.png"
alt="image-20250103191635342" />
<figcaption aria-hidden="true">image-20250103191635342</figcaption>
</figure>
<p>Latent Diffusion
æ¨¡å‹é¦–å…ˆè®­ç»ƒautoEncoderæ¨¡å‹ï¼Œencoderæå–ä¸åŸå›¾æœ€ç›¸ä¼¼æœ€é‡è¦çš„éƒ¨åˆ†åˆ°latent
spaceï¼Œ
decoderåŸºäºlatentç©ºé—´çš„è¡¨ç¤ºç”ŸæˆåŸå›¾ã€‚ç„¶åï¼Œå°†unetä¸­çš„æ‰©æ•£è¿‡ç¨‹ç”¨åœ¨pretrained
auto encoderç¼–ç å™¨çš„latent space
representation.ä»–ä»¬ä¹Ÿå‘ç°classifier-free guidanceæå‡è´¨é‡ã€‚</p>
<p>UNet
è¿˜ä½¿ç”¨äº¤å‰æ³¨æ„åŠ›å±‚ï¼Œå…è®¸å®ƒä»¬ç”¨ä½œä¸åŒç±»å‹çš„æ¡ä»¶è¾“å…¥ç”Ÿæˆå™¨ï¼Œä¾‹å¦‚æ–‡æœ¬åˆ°å›¾åƒå’Œè¶…åˆ†è¾¨ç‡ã€‚</p>
<p>autoencoderçš„decoderå±‚æŠŠlatent spaceä¸Šé‡‡æ ·æ¢å¤åˆ°1024x1024.</p>
<h3 id="dall-e2-2022å¹´åˆ">DALL-E2-2022å¹´åˆ</h3>
<p>OpenAIå‘å¸ƒè®ºæ–‡ _<a
target="_blank" rel="noopener" href="https://arxiv.org/abs/2204.06125">Hierarchical Text-Conditional
Image Generation with CLIP
Latents</a>__ï¼Œè¿™æ˜¯ä¸€ä¸ª__ç»§æ‰¿__å·¥ä½œæ¥è‡ªäºclip,
dall-eå’Œglide.æœ¬æ–‡çš„ä½œè€…ç¡®å®å°†è¯¥æ¨¡å‹ç§°ä¸º unclipï¼Œå› ä¸ºè¯¥æ¨¡å‹å°† CLIP
æ¨¡å‹ä¸­çš„æ–‡æœ¬åµŒå…¥è½¬æ¢å›å›¾åƒã€‚_</p>
<figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191656226.png"
alt="image-20250103191656226" />
<figcaption aria-hidden="true">image-20250103191656226</figcaption>
</figure>
<p>å¯ä»¥æ³¨æ„åˆ°è™šçº¿ä¸‹æ–¹ï¼Œprior modelè¾“å‡ºä¸€ä¸ªclip image
embeddingï¼Œç„¶åç”¨äºdiffusion decoderçš„å»å™ªè¿‡ç¨‹ä¸­çš„condition.</p>
<ol type="1">
<li><p>takeä¸€ä¸ªé¢„è®­ç»ƒå¥½çš„clipæ¨¡å‹ï¼Œå†»ç»“æƒé‡</p></li>
<li><p>å°†prompté€šè¿‡clip encodeæˆä¸€ä¸ªembeddingå‘é‡</p></li>
<li><p>ä¸€ä¸ªåŸºäºæ‰©æ•£çš„prior modelå°†text embedding åŒ¹é…åˆ°ç›¸åº”çš„clip image
embedding.æ‰€ä»¥prior modeläº§ç”Ÿclip modelä¼šäº§ç”Ÿçš„å›¾åƒã€‚</p></li>
<li><p>ä½¿ç”¨è°ƒæ•´è¿‡çš„glideæ¨¡å‹ï¼Œä»–ä»¬é€šè¿‡å»å™ª/åå‘æ‰©æ•£è¿‡ç¨‹ä»¥éšæœºæ–¹å¼æ˜ å°„å›¾åƒåµŒå…¥ã€‚è¿™ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿç”Ÿæˆè®¸å¤šä¸ç›¸ä¼¼è§†è§‰æ¦‚å¿µç›¸å…³çš„å¯èƒ½å›¾åƒã€‚</p></li>
</ol>
<p>ä¸ºä»€ä¹ˆè¦ç”¨priorå»äº§ç”Ÿimage embedding</p>
<figure>
<img
src="/2025/01/02/stable-diffusion-history/image-20250103191713661.png"
alt="image-20250103191713661" />
<figcaption aria-hidden="true">image-20250103191713661</figcaption>
</figure>
<p>æ¯”èµ·å•çº¯çš„captionæˆ–è€…text embeddingï¼Œprioräº§ç”Ÿçš„image
embeddingèƒ½äº§ç”Ÿæ›´å¥½çš„ç»“æœï¼Œå¦‚ä¸Šå›¾ã€‚</p>
<p>ä½†æ˜¯openaiæ²¡æœ‰å¼€æºæ¨¡å‹çš„æƒé‡ã€‚</p>
<h3 id="å¼€æºçš„latent-diffusionstable-diffusion-2022">å¼€æºçš„latent
diffusion(stable diffusion)-2022</h3>
<p>å¼€æºæ¨¡å‹stable diffusionç”±Stability AIå‘å¸ƒ</p>
<p>https://medium.com/<span class="citation"
data-cites="vasco-dev/history-and-literature-on-latent-stable-diffusion-dbca69fd54d5">@vasco-dev/history-and-literature-on-latent-stable-diffusion-dbca69fd54d5</span></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">philosophia</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">69</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2026</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">philosophia</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
